import streamlit as st
import openai

# --- CONFIG ---
st.set_page_config(page_title="MentorApp PRO", layout="wide")

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å—Ç–∏–ª—è –¥–ª—è –≤–∏–∑—É–∞–ª–æ–≤
st.markdown("""
    <style>
    .stAlert { border-radius: 10px; }
    .lesson-card { background-color: #f8f9fa; padding: 20px; border-radius: 15px; border-left: 8px solid #007bff; margin-bottom: 20px; }
    .st-emotion-cache-16ids93 { font-size: 1.05rem; }
    </style>
    """, unsafe_allow_html=True)

# --- SIDEBAR: SETTINGS & AI ---
st.sidebar.title("üõ† –ù–∞—Å—Ç—Ä–æ–π–∫–∏")
ai_provider = st.sidebar.selectbox("–ò–ò –î–≤–∏–∂–æ–∫", ["OpenAI", "DeepSeek"])
api_key = st.sidebar.text_input(f"–ö–ª—é—á {ai_provider}", type="password")

st.sidebar.divider()
chapter = st.sidebar.radio("–ö—É—Ä—Å: –°–µ—Ç–∏ & –ò–ë", [
    "1. OSI –∏ –§–∏–∑–∏–∫–∞ —Å–µ—Ç–∏",
    "2. IP, DNS –∏ –ú–∞—Ä—à—Ä—É—Ç—ã",
    "3. –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –∏ Web (HTTPS)",
    "4. –í–∑–ª–æ–º—ã –∏ –ó–∞—â–∏—Ç–∞ –ø–µ—Ä–∏–º–µ—Ç—Ä–∞"
])

# --- AI AGENT LOGIC ---
def ask_tutor(question, current_chapter):
    if not api_key:
        return "‚ö†Ô∏è –í–≤–µ–¥–∏—Ç–µ API –∫–ª—é—á –≤ –º–µ–Ω—é —Å–ª–µ–≤–∞."
    try:
        system_instr = f"""
        –¢—ã - —ç–ª–∏—Ç–Ω—ã–π IT-–º–µ–Ω—Ç–æ—Ä. –¢–≤–æ–π —É—á–µ–Ω–∏–∫ - —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –≤ –ø—Ä–æ–µ–∫—Ç–µ –†–æ—Å–∏–º—É—â–µ—Å—Ç–≤–æ.
        –¢–≤–æ—è –∑–∞–¥–∞—á–∞: –æ–±—ä—è—Å–Ω—è—Ç—å —Å–ª–æ–∂–Ω—ã–µ —Ç–µ–º—ã –°–µ—Ç–µ–π –∏ –ò–ë –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –Ω–∞–≥–ª—è–¥–Ω–æ.
        –ò—Å–ø–æ–ª—å–∑—É–π –∞–Ω–∞–ª–æ–≥–∏–∏ –∏–∑ –∂–∏–∑–Ω–∏ –∏ –±–∏–∑–Ω–µ—Å–∞. –¢–µ–∫—É—â–∞—è —Ç–µ–º–∞: {current_chapter}.
        –ï—Å–ª–∏ –≤–æ–ø—Ä–æ—Å –Ω–µ –ø–æ —Ç–µ–º–µ - –∫—Ä–∞—Ç–∫–æ –æ—Ç–≤–µ—Ç—å –∏ –≤–µ—Ä–Ω–∏ —É—á–µ–Ω–∏–∫–∞ –∫ –æ–±—É—á–µ–Ω–∏—é.
        """

        base_url = "https://api.deepseek.com" if ai_provider == "DeepSeek" else None
        model = "deepseek-chat" if ai_provider == "DeepSeek" else "gpt-4-turbo-preview"

        client = openai.OpenAI(api_key=api_key, base_url=base_url)
        resp = client.chat.completions.create(
            model=model,
            messages=[
                {"role": "system", "content": system_instr},
                {"role": "user", "content": question}
            ]
        )
        return resp.choices[0].message.content
    except Exception as e:
        return f"–û—à–∏–±–∫–∞ —Å–≤—è–∑–∏ —Å –ò–ò: {str(e)}"


# --- CONTENT HELPERS ---
def render_sections(sections):
    for idx, block in enumerate(sections):
        st.markdown(f"### {block['title']}")
        st.markdown(block["body"])
        if idx != len(sections) - 1:
            st.divider()


def render_leadership_tips(tips):
    st.markdown("#### –°–æ–≤–µ—Ç—ã —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—é")
    st.info("\n".join([f"- {tip}" for tip in tips]))


def render_quiz(module_key, questions):
    st.markdown("#### –ö–≤–∏–∑: –∑–∞–∫—Ä–µ–ø–∏–º –º–∞—Ç–µ—Ä–∏–∞–ª")
    with st.form(key=f"quiz_{module_key}"):
        responses = []
        for idx, question in enumerate(questions):
            responses.append(
                st.radio(
                    f"{idx + 1}. {question['question']}",
                    question["options"],
                    key=f"{module_key}_q{idx}"
                )
            )
        submitted = st.form_submit_button("–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç–≤–µ—Ç—ã")

    if submitted:
        score = 0
        for idx, (response, question) in enumerate(zip(responses, questions)):
            if response == question["answer"]:
                score += 1
                st.success(f"–í–æ–ø—Ä–æ—Å {idx + 1}: –≤–µ—Ä–Ω–æ. {question['explanation']}")
            else:
                st.error(f"–í–æ–ø—Ä–æ—Å {idx + 1}: –Ω–µ–≤–µ—Ä–Ω–æ. {question['explanation']}")
        st.write(f"**–ò—Ç–æ–≥:** {score} –∏–∑ {len(questions)}. {'–û—Ç–ª–∏—á–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç!' if score >= 4 else '–†–µ–∫–æ–º–µ–Ω–¥—É—é –ø–µ—Ä–µ—á–∏—Ç–∞—Ç—å –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ä–∞–∑–¥–µ–ª—ã.'}")


# --- MODULES ---
def module_one():
    st.title("üåê –ì–ª–∞–≤–∞ 1: –ú–æ–¥–µ–ª—å OSI –∏ —Ñ–∏–∑–∏–∫–∞ –∫–∞–±–µ–ª–µ–π/SFP")
    st.caption("–ú–∞—Ç–µ—Ä–∏–∞–ª —Ä–∞—Å—Å—á–∏—Ç–∞–Ω –ø—Ä–∏–º–µ—Ä–Ω–æ –Ω–∞ 35 –º–∏–Ω—É—Ç –≤–¥—É–º—á–∏–≤–æ–≥–æ —á—Ç–µ–Ω–∏—è —Å –∫–æ–Ω—Å–ø–µ–∫—Ç–æ–º.")

    sections = [
        {
            "title": "–ó–∞—á–µ–º —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—é –ø–æ–Ω–∏–º–∞—Ç—å OSI",
            "body": """
            **–ú–æ–¥–µ–ª—å OSI** ‚Äî —ç—Ç–æ –Ω–µ —Å—Ç–æ–ª—å–∫–æ –ø—Ä–æ —ç–∫–∑–∞–º–µ–Ω—ã Cisco, —Å–∫–æ–ª—å–∫–æ –ø—Ä–æ —É–ø—Ä–∞–≤–ª–µ–Ω—á–µ—Å–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏. –î–ª—è –†–æ—Å–∏–º—É—â–µ—Å—Ç–≤–∞ —ç—Ç–æ
            —Ä–∞–±–æ—á–∞—è –∫–∞—Ä—Ç–∞, –≥–¥–µ –∫–∞–∂–¥—ã–π —Å–ª–æ–π —Å–≤—è–∑–∞–Ω —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º–∏ KPI: –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –ø–æ—Ä—Ç–∞–ª–∞ –≥–æ—Å—É—Å–ª—É–≥, —Å–∫–æ—Ä–æ—Å—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞—è–≤–æ–∫ –Ω–∞ –ø—Ä–∏–≤–∞—Ç–∏–∑–∞—Ü–∏—é,
            –∑–∞—â–∏—â—ë–Ω–Ω–æ—Å—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤. –û—Å–æ–∑–Ω–∞–Ω–∏–µ —Ç–æ–≥–æ, —á—Ç–æ –±–∏–∑–Ω–µ—Å-—Å–∏–º–ø—Ç–æ–º—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, ¬´–ø–æ—Ä—Ç–∞–ª —Ç–æ—Ä–º–æ–∑–∏—Ç¬ª) —Ä–æ–∂–¥–∞—é—Ç—Å—è –Ω–∞ –¥–æ–≤–æ–ª—å–Ω–æ –Ω–∏–∑–∫–æ–º —É—Ä–æ–≤–Ω–µ
            (–æ–ø—Ç–∏–∫–∞ –≤ —Å–µ—Ä–≤–µ—Ä–Ω–æ–π, –∑–∞–±–∏—Ç—ã–π –ø–∞—Ç—á-–ø–∞–Ω–µ–ª—å—é —à–∫–∞—Ñ) –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—é –ø—Ä–∞–≤–∏–ª—å–Ω–æ –≤—ã—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –¥–∏–∞–ª–æ–≥ —Å –ø–æ–¥—Ä—è–¥—á–∏–∫–∞–º–∏ –∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º–∏
            –∫–æ–º–∞–Ω–¥–∞–º–∏. –ö–∞–∫ —Ç–æ–ª—å–∫–æ –≤—ã –º—ã—Å–ª–µ–Ω–Ω–æ ¬´–≤–∏–¥–∏—Ç–µ¬ª —Å–ª–æ–π, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –¥–µ–≥—Ä–∞–¥–∞—Ü–∏—è, –ø–µ—Ä–µ–≥–æ–≤–æ—Ä—ã —Å –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–º, integrator-–æ–º –∏
            –ò–ë-—Å–ª—É–∂–±–æ–π —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –ø—Ä–µ–¥–º–µ—Ç–Ω—ã–º–∏, –∞ –Ω–µ —ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º–∏.
            """
        },
        {
            "title": "–ü—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ –ø–∞–∫–µ—Ç–∞ —Å–∫–≤–æ–∑—å —Å–µ–º—å —É—Ä–æ–≤–Ω–µ–π",
            "body": """
            –ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ —Å–ª—É–∂–µ–±–Ω—É—é –∑–∞–ø–∏—Å–∫—É –æ –ø–µ—Ä–µ–¥–∞—á–µ –∞–∫—Ç–∏–≤–∞. –ù–∞ **7 —É—Ä–æ–≤–Ω–µ (–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ)** –æ–Ω–∞ —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç—Å—è —Å–∏—Å—Ç–µ–º–∞–º–∏ –†–æ—Å–∏–º—É—â–µ—Å—Ç–≤–∞, –Ω–∞ **6 —É—Ä–æ–≤–Ω–µ
            (–ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ)** —à–∏—Ñ—Ä—É–µ—Ç—Å—è –∏ —Å–∂–∏–º–∞–µ—Ç—Å—è, –Ω–∞ **5 —É—Ä–æ–≤–Ω–µ (–°–µ–∞–Ω—Å)** —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–∏–∞–ª–æ–≥–∞ —Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º MDM.
            **4 —É—Ä–æ–≤–µ–Ω—å (–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç)** –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –¥–æ—Å—Ç–∞–≤–∫—É –±–µ–∑ –ø–æ—Ç–µ—Ä—å. **3 —É—Ä–æ–≤–µ–Ω—å (–°–µ—Ç–µ–≤–æ–π)** —Ä–µ—à–∞–µ—Ç, –∫—É–¥–∞ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –ø–∞–∫–µ—Ç ‚Äî —á–µ—Ä–µ–∑ –≥–ª–∞–≤–Ω—ã–π
            –¶–û–î –∏–ª–∏ —Ä–µ–∑–µ—Ä–≤–Ω—ã–π. –ù–∞ **2 —É—Ä–æ–≤–Ω–µ (–ö–∞–Ω–∞–ª—å–Ω—ã–π)** –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∞–¥—Ä–µ—Å–∞—Ü–∏—è –ø–æ MAC –∏ –∫–æ–Ω—Ç—Ä–æ–ª—å –æ—à–∏–±–æ–∫. **1 —É—Ä–æ–≤–µ–Ω—å (–§–∏–∑–∏—á–µ—Å–∫–∏–π)** –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç
            –≤—Å—ë —ç—Ç–æ –±–æ–≥–∞—Ç—Å—Ç–≤–æ –≤ —Å–≤–µ—Ç–æ–≤—ã–µ –∏–º–ø—É–ª—å—Å—ã –ø–æ SFP –∏–ª–∏ —ç–ª–µ–∫—Ç—Ä–∏—á–µ—Å–∫–∏–µ —Å–∏–≥–Ω–∞–ª—ã –ø–æ –º–µ–¥–Ω—ã–º –ø–∞—Ä–∞–º. –ï—Å–ª–∏ –ª—é–±–æ–π –∏–∑ —É—Ä–æ–≤–Ω–µ–π –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω, –∏–Ω–∏—Ü–∏–∞—Ç–∏–≤–∞
            –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è. –ü–æ—ç—Ç–æ–º—É –º—ã –ø–æ–¥—Å–≤–µ—á–∏–≤–∞–µ–º SLA –∏ –º–µ—Ç—Ä–∏–∫–∏ –Ω–∞ –∫–∞–∂–¥–æ–º —É—Ä–æ–≤–Ω–µ, –∞ –Ω–µ –≥–æ–Ω–∏–º—Å—è –∑–∞ –º–∞–≥–∏—á–µ—Å–∫–∏–º ¬´uptime 99,999%¬ª –≤ —Ü–µ–ª–æ–º.
            """
        },
        {
            "title": "–§–∏–∑–∏–∫–∞ –º–µ–¥–Ω—ã—Ö –∫–∞–Ω–∞–ª–æ–≤: –æ—Ç –≤–∏—Ç–æ–π –ø–∞—Ä—ã –¥–æ —ç–ª–µ–∫—Ç—Ä–æ–º–∞–≥–Ω–∏—Ç–Ω—ã—Ö –ø–æ–ª–µ–π",
            "body": """
            –í–∏—Ç–∞—è –ø–∞—Ä–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ 6A ‚Äî —ç—Ç–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ ¬´–∫–∞–±–µ–ª—å –ø–æ–ª—É—á—à–µ¬ª. –ö–∞–∂–¥—ã–π —Ñ–∏–∑–∏—á–µ—Å–∫–∏–π –ø–∞—Ä–∞–º–µ—Ç—Ä –≤–ª–∏—è–µ—Ç –Ω–∞ –∫–∞—á–µ—Å—Ç–≤–æ –≥–æ—Å—É—Å–ª—É–≥. –°–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏–µ
            –ø—Ä–æ–≤–æ–¥–Ω–∏–∫–æ–≤ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –Ω–∞—Å–∫–æ–ª—å–∫–æ –¥–∞–ª–µ–∫–æ –º–æ–∂–Ω–æ —É–≤–µ—Å—Ç–∏ —Ä–∞–±–æ—á–µ–µ –º–µ—Å—Ç–æ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –±–µ–∑ —É—Å–∏–ª–∏—Ç–µ–ª–µ–π. –ö—Ä—É—Ç–∫–∞ –ø–∞—Ä –∏ —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
            –≤–ª–∏—è—é—Ç –Ω–∞ —ç–ª–µ–∫—Ç—Ä–æ–º–∞–≥–Ω–∏—Ç–Ω—É—é —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å –ª–∏—Ñ—Ç–æ–≤—ã–º–∏ —à–∞—Ö—Ç–∞–º–∏ –∑–¥–∞–Ω–∏–π –†–æ—Å–∏–º—É—â–µ—Å—Ç–≤–∞. –ü—Ä–∏ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –º—ã –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º: —É—Ä–æ–≤–µ–Ω—å
            –∑–∞—Ç—É—Ö–∞–Ω–∏—è (–≤ –¥–ë –Ω–∞ 100 –º), –∑–∞–ø–∞—Å –ø–æ NEXT/FEXT, –≤–ª–∏—è–Ω–∏–µ —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω—ã—Ö —Ä–µ–∂–∏–º–æ–≤ –∞—Ä—Ö–∏–≤–Ω—ã—Ö –ø–æ–º–µ—â–µ–Ω–∏–π. –†–µ—à–µ–Ω–∏—è –æ –ø–µ—Ä–µ–Ω–æ—Å–µ —Ä–∞–±–æ—á–∏—Ö –º–µ—Å—Ç
            –∏–ª–∏ –≤–Ω–µ–¥—Ä–µ–Ω–∏–∏ PoE-–∫–∞–º–µ—Ä –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –≤–∫–ª—é—á–∞—é—Ç —Ñ–∏–∑–∏—á–µ—Å–∫–∏–µ –∞—É–¥–∏—Ç–æ—Ä–∏–∏: –ø–æ–ø—Ä–æ—Å–∏—Ç–µ –∏–Ω–∂–µ–Ω–µ—Ä–æ–≤ –ø—Ä–∏–Ω–æ—Å–∏—Ç—å –æ—Ç—á—ë—Ç—ã TDR –∏ —Å—Ö–µ–º—ã –∫–∞–Ω–∞–ª–æ–≤,
            –∞ –Ω–µ —Ç–æ–ª—å–∫–æ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ —à–∫–∞—Ñ–æ–≤.
            """
        },
        {
            "title": "–û–ø—Ç–∏–∫–∞ –∏ SFP: –ø–ª—é—Å—ã, —Ä–∏—Å–∫–∏ –∏ –∏–Ω–≤–µ–Ω—Ç–∞—Ä–∏–∑–∞—Ü–∏—è",
            "body": """
            **SFP-–º–æ–¥—É–ª–∏** ‚Äî —Ä–∞—Å—Ö–æ–¥–Ω–∏–∫ —Å –≤—ã—Å–æ–∫–æ–π –º–∞—Ä–∂–æ–π. –ù–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ –∑–∞–∫–∞–∑—á–∏–∫ —Ä–µ–¥–∫–æ –≤–∏–¥–∏—Ç —Ä–µ–∞–ª—å–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ –∏—Ö –¥–µ–≥—Ä–∞–¥–∞—Ü–∏–∏. –í –†–æ—Å–∏–º—É—â–µ—Å—Ç–≤–µ
            –º—ã –≤—ã–¥–µ–ª—è–µ–º —Ç—Ä–∏ –∫–ª–∞—Å—Å–∞ SFP: –∫–æ—Ä–æ—Ç–∫–∏–µ (SR), –¥–ª–∏–Ω–Ω—ã–µ (LR) –∏ –±–∏-–¥–∏ (BX). –î–ª—è –∫–∞–∂–¥–æ–≥–æ –≤–µ–¥—ë—Ç—Å—è –ø–∞—Å–ø–æ—Ä—Ç: –¥–∞—Ç–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏, –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å,
            –∏–∑–º–µ—Ä–µ–Ω–Ω–æ–µ –æ–ø—Ç–∏—á–µ—Å–∫–æ–µ –±—é–¥–∂–µ—Ç–Ω–æ–µ –æ–∫–Ω–æ. –ï—Å–ª–∏ –æ–ø–µ—Ä–∞—Ç–æ—Ä –∂–∞–ª—É–µ—Ç—Å—è –Ω–∞ —Å–∫–∞—á–∫–∏ –∑–∞–¥–µ—Ä–∂–µ–∫, —Ç—Ä–µ–±—É–π—Ç–µ –∏–∑ NOC –Ω–µ —Ç–æ–ª—å–∫–æ –≥—Ä–∞—Ñ–∏–∫–∏ ping, –Ω–æ –∏
            **–ª–æ–≥ —Ä–µ–∞–ª—å–Ω—ã—Ö dBm** –∑–Ω–∞—á–µ–Ω–∏–π. –†—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –ø–æ–Ω–∏–º–∞—Ç—å, —á—Ç–æ -7 dBm –Ω–∞ –ø—Ä–∏—ë–º–Ω–∏–∫–µ –ø—Ä–∏ –¥–æ–≥–æ–≤–æ—Ä–Ω—ã—Ö -3 dBm ‚Äî —Å–∏–≥–Ω–∞–ª –∫ –ø–ª–∞–Ω–æ–≤–æ–π
            –∑–∞–º–µ–Ω–µ –º–æ–¥—É–ª—è –¥–æ —Ç–æ–≥–æ, –∫–∞–∫ –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç –∏–Ω—Ü–∏–¥–µ–Ω—Ç.
            """
        },
        {
            "title": "–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —É—Ä–æ–≤–Ω—è L1/L2",
            "body": """
            –í –∞—Ä—Å–µ–Ω–∞–ª–µ —Å–µ—Ç–µ–≤–æ–π —Å–ª—É–∂–±—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å: OTDR –¥–ª—è –≤–æ–ª–æ–∫–Ω–∞, –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä —Å–ø–µ–∫—Ç—Ä–∞, –ø—Ä–æ—Å—Ç–æ–π —Ç–æ–Ω-–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä, —Ç–µ–ø–ª–æ–≤–∏–∑–æ—Ä –¥–ª—è —Å—Ç–æ–µ–∫. –†—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å
            –Ω–µ –æ–±—è–∑–∞–Ω –¥–µ—Ä–∂–∞—Ç—å —ç—Ç–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –≤ —Ä—É–∫–∞—Ö, –Ω–æ –æ–±—è–∑–∞–Ω –≤–Ω–µ–¥—Ä–∏—Ç—å **–ø—Ä–æ—Ü–µ—Å—Å —ç—Å–∫–∞–ª–∞—Ü–∏–∏**: –≤—Ä–µ–º—è –æ—Ç –∂–∞–ª–æ–±—ã –¥–æ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ñ–∏–∑–∏–∫–∏ ‚Äî –Ω–µ –±–æ–ª–µ–µ
            2 —á–∞—Å–æ–≤. –ú—ã —Ñ–∏–∫—Å–∏—Ä—É–µ–º —ç—Ç–æ –≤ runbook, –¥–æ–±–∞–≤–ª—è–µ–º —á–µ–∫-–ª–∏—Å—Ç (–≤–∏–∑—É–∞–ª—å–Ω—ã–π –æ—Å–º–æ—Ç—Ä –∫–æ–Ω–Ω–µ–∫—Ç–æ—Ä–æ–≤, –∏–∑–º–µ—Ä–µ–Ω–∏–µ –∑–∞—Ç—É—Ö–∞–Ω–∏—è, –ø–µ—Ä–µ—Å—Ç–∞–Ω–æ–≤–∫–∞ SFP).
            –¢–∞–∫–æ–π —Ñ–æ—Ä–º–∞–ª–∏–∑–º —ç–∫–æ–Ω–æ–º–∏—Ç –±—é–¥–∂–µ—Ç—ã, –ø–æ—Ç–æ–º—É —á—Ç–æ 70% ¬´–º–∏—Å—Ç–∏—á–µ—Å–∫–∏—Ö¬ª –ø–∞–¥–µ–Ω–∏–π —Å–µ—Ä–≤–∏—Å–∞ ‚Äî —ç—Ç–æ –ø–ª–æ—Ö–æ–π –∫–æ–Ω—Ç–∞–∫—Ç –≤ –ø–∞—Ç—á-–ø–∞–Ω–µ–ª–∏.
            """
        },
        {
            "title": "–ú–µ—Ç–æ–¥–∏–∫–∞ —Ä–∞–∑–±–æ—Ä–∞ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–æ–≤",
            "body": """
            –ü—Ä–∏ —Ä–∞—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–∏ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–æ–≤ –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º **–º–∞—Ç—Ä–∏—Ü—É OSI √ó –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã**. –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–ª–æ—è –ø–µ—Ä–µ—á–∏—Å–ª–µ–Ω—ã –≤–ª–∞–¥–µ–ª—å—Ü—ã,
            –º–µ—Ç—Ä–∏–∫–∏, –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã. –ù–∞–ø—Ä–∏–º–µ—Ä, —Å–ª–æ–π 2 ‚Äî –∏–Ω–∂–µ–Ω–µ—Ä —Å–≤—è–∑–∏, MAC-—Ç–∞–±–ª–∏—Ü—ã, –¥–∞–º–ø—ã SPAN; —Å–ª–æ–π 1 ‚Äî –ø–æ–¥—Ä—è–¥—á–∏–∫ –ø–æ –°–ö–°, –ø—Ä–æ—Ç–æ–∫–æ–ª —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∏.
            –†—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –º–∞—Ç—Ä–∏—Ü—É –∏ —Å—Ä–∞–∑—É –≤–∏–¥–∏—Ç, –∫—Ç–æ ¬´–Ω–∞ –º—è—á–µ¬ª –∏ –≥–¥–µ –∑–∞—Å—Ç—Ä—è–ª–∞ —ç—Å–∫–∞–ª–∞—Ü–∏—è. –≠—Ç–æ –¥–∏—Å—Ü–∏–ø–ª–∏–Ω–∏—Ä—É–µ—Ç –≤–Ω–µ—à–Ω–∏—Ö –≤–µ–Ω–¥–æ—Ä–æ–≤: –µ—Å–ª–∏
            –ø–æ–¥—Ä—è–¥—á–∏–∫ –Ω–µ –ø—Ä–∏–Ω—ë—Å —Ñ–æ—Ä–º—É –∑–∞–º–µ—Ä–æ–≤ –æ–ø—Ç–∏–∫–∏ ‚Äî –∏–Ω—Ü–∏–¥–µ–Ω—Ç —Å—á–∏—Ç–∞–µ—Ç—Å—è –Ω–µ –∑–∞–∫—Ä—ã—Ç—ã–º.
            """
        },
        {
            "title": "–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –º–æ–¥–µ—Ä–Ω–∏–∑–∞—Ü–∏–∏ –°–ö–°",
            "body": """
            –ß—Ç–æ–±—ã –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏ –≤ —Ñ–∏–∑–∏—á–µ—Å–∫–∏–π —É—Ä–æ–≤–µ–Ω—å –±—ã–ª–∏ –∑–∞—â–∏—â–µ–Ω—ã, –≤–≤–æ–¥–∏–º –ø—Ä–∞–≤–∏–ª–æ: –ª—é–±–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –¶–û–î —Å–æ–ø—Ä–æ–≤–æ–∂–¥–∞–µ—Ç—Å—è **–ø–∞—Å–ø–æ—Ä—Ç–æ–º –∫–∞–Ω–∞–ª–∞**
            –∏ —Ü–∏—Ñ—Ä–æ–≤—ã–º –¥–≤–æ–π–Ω–∏–∫–æ–º –≤ NetBox. –†—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å —Ç—Ä–µ–±—É–µ—Ç –æ—Ç –ø–æ–¥—Ä—è–¥—á–∏–∫–∞ –Ω–µ —Ç–æ–ª—å–∫–æ –∞–∫—Ç, –Ω–æ –∏ —Ñ–∞–π–ª —Å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏ —Ç—Ä–∞—Å—Å, —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è–º–∏,
            QR-–∫–æ–¥–∞–º–∏ –Ω–∞ –ø–∞—Ç—á-–ø–∞–Ω–µ–ª—è—Ö. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–ø—É—Å—Ç—è –≥–æ–¥ –ø–æ–Ω—è—Ç—å, –≥–¥–µ –ª–µ–∂–∏—Ç –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è –∂–∏–ª–∞, –∫–æ–≥–¥–∞ –º—ã —Å—Ä–æ—á–Ω–æ —Å—Ç—Ä–æ–∏–º –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π
            –∫–∞–Ω–∞–ª –¥–ª—è –Ω–æ–≤–æ–≥–æ —Ä–µ–≥–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –æ—Ñ–∏—Å–∞.
            """
        },
        {
            "title": "–ú–µ—Ç—Ä–∏–∫–∏ –∑—Ä–µ–ª–æ—Å—Ç–∏ —É—Ä–æ–≤–Ω—è",
            "body": """
            –ú—ã –∏–∑–º–µ—Ä—è–µ–º –∑—Ä–µ–ª–æ—Å—Ç—å —Ñ–∏–∑–∏—á–µ—Å–∫–æ–≥–æ —É—Ä–æ–≤–Ω—è —á–µ—Ä–µ–∑ —á–µ—Ç—ã—Ä–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞: –ø–æ–ª–Ω–æ—Ç–∞ –ø–∞—Å–ø–æ—Ä—Ç–∏–∑–∞—Ü–∏–∏ –ª–∏–Ω–∏–π, –ø—Ä–æ—Ü–µ–Ω—Ç –∫–∞–Ω–∞–ª–æ–≤ —Å —Ä–µ–∑–µ—Ä–≤–æ–º,
            –¥–æ–ª—è –ø—Ä–æ–∞–∫—Ç–∏–≤–Ω–æ –∑–∞–º–µ–Ω—ë–Ω–Ω—ã—Ö SFP (–¥–æ –æ—Ç–∫–∞–∑–∞) –∏ —Å–∫–æ—Ä–æ—Å—Ç—å —Ä–µ–∞–∫—Ü–∏–∏ –Ω–∞ –¥–µ–≥—Ä–∞–¥–∞—Ü–∏—é. –†—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å –≤–∏–¥–∏—Ç —ç—Ç–∏ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ –µ–∂–µ–º–µ—Å—è—á–Ω–æ –∏
            –º–æ–∂–µ—Ç –∞—Ä–≥—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ –∑–∞—â–∏—â–∞—Ç—å –±—é–¥–∂–µ—Ç –ø–µ—Ä–µ–¥ –ú–∏–Ω—Ü–∏—Ñ—Ä—ã.
            """
        }
    ]

    st.markdown('<div class="lesson-card">', unsafe_allow_html=True)
    render_sections(sections)
    st.graphviz_chart('''
        digraph OSI {
            graph [fontname="Helvetica", nodesep=0.6];
            node [shape=record, fontname="Helvetica", style=filled, fillcolor="#E3F2FD"];
            rankdir=LR;

            subgraph cluster_stack {
                label="–õ–æ–≥–∏—á–µ—Å–∫–∏–µ —É—Ä–æ–≤–Ω–∏";
                color="#90CAF9";
                app [label="–£—Ä.7 –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ|–ü–æ—Ä—Ç–∞–ª—ã\nSAP/1C"];
                pres [label="–£—Ä.6 –ü—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ|TLS/–°–∂–∞—Ç–∏–µ"];
                sess [label="–£—Ä.5 –°–µ–∞–Ω—Å|gRPC/REST"];
                transp [label="–£—Ä.4 –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç|TCP/QUIC"];
                net [label="–£—Ä.3 –°–µ—Ç–µ–≤–æ–π|IP/MPLS"];
                data [label="–£—Ä.2 –ö–∞–Ω–∞–ª—å–Ω—ã–π|802.1Q|STP"];
                phys [label="–£—Ä.1 –§–∏–∑–∏—á–µ—Å–∫–∏–π|UTP/Optics"];
            }

            subgraph cluster_fabric {
                label="–§–∏–∑–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞";
                color="#A5D6A7";
                ors [shape=box, label="–û–ø—Ç–∏—á–µ—Å–∫–∏–π –∫—Ä–æ—Å—Å"];
                sfp [shape=box, label="SFP+ –º–æ–¥—É–ª—å"];
                cable [shape=box, label="–í–∏—Ç–∞—è –ø–∞—Ä–∞ Cat6A"];
                sensor [shape=box, label="TDR/–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥"];
            }

            client [shape=oval, label="–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å\n—Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∞–ª—å–Ω–æ–≥–æ –æ—Ç–¥–µ–ª–∞"];
            portal [shape=oval, label="–ü–æ—Ä—Ç–∞–ª –†–æ—Å–∏–º—É—â–µ—Å—Ç–≤–∞"];

            client -> app -> pres -> sess -> transp -> net -> data -> phys -> sfp -> ors -> portal;
            portal -> ors -> sfp -> phys -> data -> net -> transp -> sess -> pres -> app -> client;
            phys -> cable;
            sfp -> sensor;
            cable -> sensor;
        }
    ''', use_container_width=True)
    st.caption("–î–∏–∞–≥—Ä–∞–º–º–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, –∫–∞–∫ –ª–æ–≥–∏—á–µ—Å–∫–∏–µ —É—Ä–æ–≤–Ω–∏ OSI –ø—Ä–æ–µ—Ü–∏—Ä—É—é—Ç—Å—è –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ñ–∏–∑–∏—á–µ—Å–∫–∏–µ —É–∑–ª—ã –†–æ—Å–∏–º—É—â–µ—Å—Ç–≤–∞.")

    render_leadership_tips([
        "–í–∫–ª—é—á–∞–π—Ç–µ OSI –≤ —Ä–µ–≥–ª–∞–º–µ–Ω—Ç —Ä–∞–∑–±–æ—Ä–∞ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–æ–≤: —Å–ª–æ–π = –≤–ª–∞–¥–µ–ª–µ—Ü.",
        "–†–∞–∑ –≤ –∫–≤–∞—Ä—Ç–∞–ª —Ç—Ä–µ–±—É–π—Ç–µ –æ—Ç—á—ë—Ç –ø–æ –æ–ø–æ—Ä–Ω—ã–º dBm –≤—Å–µ—Ö –º–∞–≥–∏—Å—Ç—Ä–∞–ª–µ–π.",
        "–£—Ç–≤–µ—Ä–∂–¥–∞–π—Ç–µ –∑–∞–∫—É–ø–∫–∏ –°–ö–° —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ —Ü–∏—Ñ—Ä–æ–≤–æ–≥–æ –ø–∞—Å–ø–æ—Ä—Ç–∞.",
        "–î–µ—Ä–∂–∏—Ç–µ –∑–∞–ø–∞—Å SFP –Ω–µ –º–µ–Ω—å—à–µ 15% –æ—Ç –∏–Ω—Å—Ç–∞–ª–ª—è—Ü–∏–∏ –∏ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å.",
        "–û—Ç–¥–µ–ª—å–Ω–æ —Ñ–∏–Ω–∞–Ω—Å–∏—Ä—É–π—Ç–µ –∏–∑–º–µ—Ä–∏—Ç–µ–ª—å–Ω–æ–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ ‚Äî –æ–Ω–æ –æ–∫—É–ø–∞–µ—Ç—Å—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â—ë–Ω–Ω—ã–º–∏ –ø—Ä–æ—Å—Ç–æ—è–º–∏."
    ])

    render_quiz("module1", [
        {
            "question": "–ö–∞–∫–æ–π —Å–ª–æ–π OSI –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –≤—ã–±–æ—Ä –º–∞—Ä—à—Ä—É—Ç–∞ –ø–∞–∫–µ—Ç–∞ –º–µ–∂–¥—É –¶–û–î–∞–º–∏?",
            "options": ["–£—Ä–æ–≤–µ–Ω—å 7", "–£—Ä–æ–≤–µ–Ω—å 4", "–£—Ä–æ–≤–µ–Ω—å 3", "–£—Ä–æ–≤–µ–Ω—å 2"],
            "answer": "–£—Ä–æ–≤–µ–Ω—å 3",
            "explanation": "–°–µ—Ç–µ–≤–æ–π —É—Ä–æ–≤–µ–Ω—å –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ä–µ—à–µ–Ω–∏—è –æ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ –∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–µ—Ç —Å MPLS."
        },
        {
            "question": "–ö–∞–∫–æ–π –∞—Ä—Ç–µ—Ñ–∞–∫—Ç –¥–æ–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ SFP –¥–µ–≥—Ä–∞–¥–∏—Ä—É–µ—Ç –µ—â—ë –¥–æ –æ—Ç–∫–∞–∑–∞?",
            "options": ["–ì—Ä–∞—Ñ–∏–∫ ping", "–ó–∞–º–µ—Ä –æ–ø—Ç–∏—á–µ—Å–∫–æ–π –º–æ—â–Ω–æ—Å—Ç–∏ –≤ dBm", "–°–Ω–∏–º–æ–∫ —Å—Ç–æ–π–∫–∏", "–°—Ö–µ–º–∞ VLAN"],
            "answer": "–ó–∞–º–µ—Ä –æ–ø—Ç–∏—á–µ—Å–∫–æ–π –º–æ—â–Ω–æ—Å—Ç–∏ –≤ dBm",
            "explanation": "–¢–æ–ª—å–∫–æ –∏–∑–º–µ—Ä–µ–Ω–Ω—ã–µ –æ–ø—Ç–∏—á–µ—Å–∫–∏–µ —É—Ä–æ–≤–Ω–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –∑–∞–ø–∞—Å –ø–æ –±—é–¥–∂–µ—Ç—É –ª–∏–Ω–∏–∏."
        },
        {
            "question": "–ö–∞–∫–∞—è –ø–∞—Ä–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –∫ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–µ —Ñ–∏–∑–∏—á–µ—Å–∫–æ–≥–æ —É—Ä–æ–≤–Ω—è?",
            "options": ["Wireshark –∏ NetFlow", "OTDR –∏ —Ç–æ–Ω-–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä", "Zabbix –∏ Grafana", "Kerberos –∏ RADIUS"],
            "answer": "OTDR –∏ —Ç–æ–Ω-–≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä",
            "explanation": "–≠—Ç–∏ –ø—Ä–∏–±–æ—Ä—ã –ø–æ–∑–≤–æ–ª—è—é—Ç –Ω–∞—Ö–æ–¥–∏—Ç—å –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–∏—è –≤–æ–ª–æ–∫–Ω–∞ –∏ –æ–±—Ä—ã–≤—ã –º–µ–¥–Ω—ã—Ö –ø–∞—Ä."
        },
        {
            "question": "–ü–æ—á–µ–º—É —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—é –≤–∞–∂–Ω–∞ –º–∞—Ç—Ä–∏—Ü–∞ OSI √ó –≤–ª–∞–¥–µ–ª—å—Ü—ã?",
            "options": ["–£—Å–∫–æ—Ä—è–µ—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ü–û", "–£–ø—Ä–æ—â–∞–µ—Ç —Å–º–µ–Ω—ã –≤ –¶–û–î", "–ß—ë—Ç–∫–æ –∑–∞–∫—Ä–µ–ø–ª—è–µ—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –∏ –º–µ—Ç—Ä–∏–∫–∏", "–ü–æ–∑–≤–æ–ª—è–µ—Ç —ç–∫–æ–Ω–æ–º–∏—Ç—å –Ω–∞ –ª–∏—Ü–µ–Ω–∑–∏—è—Ö"],
            "answer": "–ß—ë—Ç–∫–æ –∑–∞–∫—Ä–µ–ø–ª—è–µ—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –∏ –º–µ—Ç—Ä–∏–∫–∏",
            "explanation": "–ú–∞—Ç—Ä–∏—Ü–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, –∫—Ç–æ –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —Å–ª–æ–π –∏ –∫–∞–∫–∏–µ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω—ã."
        },
        {
            "question": "–ö–∞–∫–æ–π KPI —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏–∑—É–µ—Ç –∑—Ä–µ–ª–æ—Å—Ç—å —Ñ–∏–∑–∏—á–µ—Å–∫–æ–≥–æ —É—Ä–æ–≤–Ω—è?",
            "options": ["–ß–∏—Å–ª–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π", "–ü—Ä–æ—Ü–µ–Ω—Ç —Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∫–∞–Ω–∞–ª–æ–≤", "–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª–∏—Ü–µ–Ω–∑–∏–π Office", "–°—Ä–µ–¥–Ω–∏–π —á–µ–∫ –ø—Ä–æ–µ–∫—Ç–∞"],
            "answer": "–ü—Ä–æ—Ü–µ–Ω—Ç —Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∫–∞–Ω–∞–ª–æ–≤",
            "explanation": "–ù–∞–ª–∏—á–∏–µ —Ä–µ–∑–µ—Ä–≤–æ–≤ –∏ –∏—Ö –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å –Ω–∞–ø—Ä—è–º—É—é –æ–ø–∏—Å—ã–≤–∞—é—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∫ —Å–±–æ—è–º."
        }
    ])
    st.markdown('</div>', unsafe_allow_html=True)


def module_two():
    st.title("üó∫ –ì–ª–∞–≤–∞ 2: IP, –º–∞—Å–∫–∏, NAT –∏ DNS-–∞—Ç–∞–∫–∏")
    st.caption("–ü–ª–∞–Ω–∏—Ä—É–π—Ç–µ 35‚Äì40 –º–∏–Ω—É—Ç —á—Ç–µ–Ω–∏—è: —Ä–∞–∑–¥–µ–ª —Ä–∞–∑–±–∏—Ä–∞–µ—Ç –∞–¥—Ä–µ—Å–∞—Ü–∏—é –æ—Ç –ø—Ä–æ–≤–æ–¥–∫–∏ –¥–æ –∞—Ç–∞–∫.")

    sections = [
        {
            "title": "–°–µ—Ç–µ–≤–∞—è –∞–¥—Ä–µ—Å–∞—Ü–∏—è –∫–∞–∫ —è–∑—ã–∫ –±–∏–∑–Ω–µ—Å–∞",
            "body": """
            IP-–ø–ª–∞–Ω –†–æ—Å–∏–º—É—â–µ—Å—Ç–≤–∞ ‚Äî —ç—Ç–æ –∫–∞—Ä—Ç–∞, –ø–æ –∫–æ—Ç–æ—Ä–æ–π –¥–≤–∏–∂—É—Ç—Å—è –¥–∞–Ω–Ω—ã–µ –æ —Ñ–µ–¥–µ—Ä–∞–ª—å–Ω—ã—Ö –∞–∫—Ç–∏–≤–∞—Ö. –ï—Å–ª–∏ –ø–æ–¥—Å–µ—Ç–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω—ã –ø–æ —Ñ—É–Ω–∫—Ü–∏—è–º
            (–¶–û–î, —Ä–µ–≥–∏–æ–Ω—ã, –ø–æ–¥—Ä—è–¥—á–∏–∫–∏), –º–æ–∂–Ω–æ –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –ø–æ–Ω—è—Ç—å, –≥–¥–µ –ø—Ä–æ–±–ª–µ–º–∞ –∏ –∫–æ–≥–æ –æ—Ç–∫–ª—é—á–∞—Ç—å –≤ —Å–ª—É—á–∞–µ –∞—Ç–∞–∫–∏. –ú—ã —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–µ–º IP-–∞–¥—Ä–µ—Å
            –∫–∞–∫ QR-–∫–æ–¥ —Å–µ—Ä–≤–∏—Å–∞: –ø–µ—Ä–≤—ã–µ –±–∏—Ç—ã ‚Äî —É—Ä–æ–≤–µ–Ω—å –¥–æ–≤–µ—Ä–∏—è, –ø–æ—Å–ª–µ–¥–Ω–∏–µ ‚Äî –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–Ω–æ—Å—Ç—å –∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ (–∞—Ä—Ö–∏–≤, BIM, –∫–∞–¥–∞—Å—Ç—Ä).
            """
        },
        {
            "title": "–ú–∞—Å–∫–∏ –∏ –∞–≥—Ä–µ–≥–∞—Ü–∏—è –º–∞—Ä—à—Ä—É—Ç–æ–≤",
            "body": """
            –ú–∞—Å–∫–∞ /21 –∏–ª–∏ /24 ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω—á–µ—Å–∫–æ–µ —Ä–µ—à–µ–Ω–∏–µ. –ú–µ–ª–∫–∏–µ –ø–æ–¥—Å–µ—Ç–∏ —É–ø—Ä–æ—â–∞—é—Ç –∫–æ–Ω—Ç—Ä–æ–ª—å, –Ω–æ —É—Å–ª–æ–∂–Ω—è—é—Ç –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—é. –í –†–æ—Å–∏–º—É—â–µ—Å—Ç–≤–µ –º—ã
            –∏—Å–ø–æ–ª—å–∑—É–µ–º **–¥–≤—É—Ö—É—Ä–æ–≤–Ω–µ–≤—É—é –º–æ–¥–µ–ª—å**: –∫—Ä—É–ø–Ω—ã–µ /20 –¥–ª—è —Ä–µ–≥–∏–æ–Ω–æ–≤ –∏ –¥—Ä–æ–±–Ω—ã–µ /27 –¥–ª—è –ø–ª–æ—â–∞–¥–æ–∫ —Å –ø–æ–≤—ã—à–µ–Ω–Ω—ã–º–∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º–∏ –∫ –ò–ë.
            –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –±—ã—Å—Ç—Ä–æ –∏–∑–æ–ª–∏—Ä–æ–≤–∞—Ç—å —Ñ–∏–ª–∏–∞–ª, –µ—Å–ª–∏ –∑–∞–º–µ—á–µ–Ω—ã –∞–Ω–æ–º–∞–ª–∏–∏. –†—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å —É—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç IP-–ø–æ–ª–∏—Ç–∏–∫—É –Ω–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–º –∫–æ–º–∏—Ç–µ—Ç–µ,
            –ø–æ—Ç–æ–º—É —á—Ç–æ –∏–º–µ–Ω–Ω–æ –æ–Ω–∞ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –Ω–∞—Å–∫–æ–ª—å–∫–æ –±—ã—Å—Ç—Ä–æ –º—ã —Å–º–æ–∂–µ–º —Å–µ–≥–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–µ—Ç—å –ø—Ä–∏ –∞—Ç–∞–∫–µ.
            """
        },
        {
            "title": "NAT –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–∏–º–µ—Ç—Ä–æ–º",
            "body": """
            NAT ‚Äî —ç—Ç–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –∫–æ—Å—Ç—ã–ª—å. –í –≥–æ—Å—Å–µ–∫—Ç–æ—Ä–µ –æ–Ω –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è —é—Ä–∏–¥–∏—á–µ—Å–∫–æ–π –ø—Ä–æ—Å–ª–µ–∂–∏–≤–∞–µ–º–æ—Å—Ç–∏.
            **Static NAT** –Ω—É–∂–µ–Ω –¥–ª—è –≤–∏—Ç—Ä–∏–Ω –∏ –≤–µ–±-–∫–∞–±–∏–Ω–µ—Ç–æ–≤, **Dynamic PAT** ‚Äî –¥–ª—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤, –≤—ã—Ö–æ–¥—è—â–∏—Ö –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç, **Policy NAT** ‚Äî –¥–ª—è
            –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö –∫–∞–Ω–∞–ª–æ–≤ —Å –ú–∏–Ω—Ñ–∏–Ω–æ–º. –†—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –ø–æ–Ω–∏–º–∞—Ç—å, —á—Ç–æ –ª—é–±–∞—è –æ—à–∏–±–∫–∞ –≤ NAT –º–æ–∂–µ—Ç –≤—ã–¥–∞—Ç—å –Ω–∞—Ä—É–∂—É –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π —Å–µ—Ä–≤–∏—Å
            –∏–ª–∏, –Ω–∞–æ–±–æ—Ä–æ—Ç, –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –∫—Ä–∏—Ç–∏—á–Ω—ã–π –æ–±–º–µ–Ω. –ü–æ—ç—Ç–æ–º—É –º—ã –≤–µ–¥—ë–º –∫–∞—Ç–∞–ª–æ–≥ –ø—Ä–∞–≤–∏–ª —Å –≤–ª–∞–¥–µ–ª—å—Ü–∞–º–∏ –∏ —Å—Ä–æ–∫–∞–º–∏ —Ä–µ–≤–∏–∑–∏–∏.
            """
        },
        {
            "title": "DNS –∫–∞–∫ —Ç–æ—á–∫–∞ –∞—Ç–∞–∫–∏",
            "body": """
            DNS-—Å–ø—É—Ñ–∏–Ω–≥ –∏ cache poisoning ‚Äî —Å–∞–º—ã–µ –¥–µ—à—ë–≤—ã–µ –∞—Ç–∞–∫–∏ –ø—Ä–æ—Ç–∏–≤ –≤–µ–¥–æ–º—Å—Ç–≤. –ó–ª–æ—É–º—ã—à–ª–µ–Ω–Ω–∏–∫–∏ –ø–æ–¥–º–µ–Ω—è—é—Ç –æ—Ç–≤–µ—Ç DNS –∏ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è—é—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
            –Ω–∞ —Ñ–∞–ª—å—à–∏–≤—ã–π –ø–æ—Ä—Ç–∞–ª –≥–æ—Å—É—Å–ª—É–≥, –≥–¥–µ —Å–æ–±–∏—Ä–∞—é—Ç —É—á—ë—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ. –í –†–æ—Å–∏–º—É—â–µ—Å—Ç–≤–µ –º—ã —Å—Ç—Ä–æ–∏–º **–¥–≤—É—Ö–ø–æ—è—Å–Ω—É—é —Å—Ö–µ–º—É**: –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Ä–µ–∑–æ–ª–≤–µ—Ä—ã —Å
            DNSSEC + –≤–Ω–µ—à–Ω–∏–µ DNS —Å Anycast –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–º —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ –∑–æ–Ω—ã. –†—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å —É—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç —á–∞—Å—Ç–æ—Ç—É –ø–æ–¥–ø–∏—Å–∞–Ω–∏—è –∑–æ–Ω, –ø–æ–ª–∏—Ç–∏–∫—É –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
            KSK/ZSK –∏ –ø–æ—Ä—è–¥–æ–∫ –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–π —Å –ú–∏–Ω—Ü–∏—Ñ—Ä—ã –≤ —Å–ª—É—á–∞–µ –∫–æ–º–ø—Ä–æ–º–µ—Ç–∞—Ü–∏–∏ –∫–ª—é—á–∞.
            """
        },
        {
            "title": "DNS-–∞—Ç–∞–∫–∏: –∂–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –∏ –∑–∞—â–∏—Ç–∞",
            "body": """
            –¢–∏–ø–∏—á–Ω–∞—è –∞—Ç–∞–∫–∞ –≤–∫–ª—é—á–∞–µ—Ç —Ä–∞–∑–≤–µ–¥–∫—É (–ø–æ–∏—Å–∫ –æ—Ç–∫—Ä—ã—Ç–æ–≥–æ —Ä–µ–∑–æ–ª–≤–µ—Ä–∞), –∑–∞—Ä–∞–∂–µ–Ω–∏–µ (–∏–Ω—ä–µ–∫—Ü–∏—è –ª–æ–∂–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞), —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏—é (—Å–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö),
            –º–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏—é (–ø—Ä–æ–¥–∞–∂–∞ –¥–æ—Å—Ç—É–ø–∞). –ú—ã –≤–Ω–µ–¥—Ä—è–µ–º **real-time –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ TTL, —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–æ–≤ —Å —ç—Ç–∞–ª–æ–Ω–Ω–æ–π –∑–æ–Ω–æ–π, –∫–æ–Ω—Ç—Ä–æ–ª—å –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
            –∞–Ω–æ–º–∞–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤**. –£–ø—Ä–∞–≤–ª–µ–Ω—á–µ—Å–∫–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ ‚Äî –¥–µ—Ä–∂–∞—Ç—å SLA —Ä–µ–∞–≥–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ –ø–æ–¥–º–µ–Ω—É –Ω–µ –≤—ã—à–µ 15 –º–∏–Ω—É—Ç: –∑–∞ —ç—Ç–æ –≤—Ä–µ–º—è –º–æ–∂–Ω–æ —É—Å–ø–µ—Ç—å
            –ø—Ä–µ–¥—É–ø—Ä–µ–¥–∏—Ç—å —Ä–µ–≥–∏–æ–Ω—ã –∏ –æ—Ç–∫–ª—é—á–∏—Ç—å –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã–π –¥–∏–∞–ø–∞–∑–æ–Ω.
            """
        },
        {
            "title": "Case study: –∞—Ç–∞–∫–∞ –Ω–∞ DNS –†–æ—Å–∏–º—É—â–µ—Å—Ç–≤–∞",
            "body": """
            –í 2024 –≥–æ–¥—É –±—ã–ª–∞ –ø–æ–ø—ã—Ç–∫–∞ –ø–æ–¥–º–µ–Ω—ã –∞–¥—Ä–µ—Å–∞ –ø–æ—Ä—Ç–∞–ª–∞ –∞—Ä–µ–Ω–¥—ã –≥–æ—Å–∏–º—É—â–µ—Å—Ç–≤–∞. –ê—Ç–∞–∫—É—é—â–∏–µ –∑–∞–≥—Ä—É–∑–∏–ª–∏ –≤—Ä–µ–¥–æ–Ω–æ—Å–Ω—ã–π DNS-—Å–µ—Ä–≤–µ—Ä –≤ –æ–±–ª–∞–∫–µ, –ø–æ–¥–æ–±—Ä–∞–ª–∏
            ID –∑–∞–ø—Ä–æ—Å–æ–≤ —á–µ—Ä–µ–∑ –∫—Ä—É–ø–Ω—ã–π –±–æ—Ç–Ω–µ—Ç –∏ –ø–æ–¥—Å–æ–≤—ã–≤–∞–ª–∏ –æ—Ç–≤–µ—Ç —Ä–∞–Ω—å—à–µ –ª–µ–≥–∏—Ç–∏–º–Ω–æ–≥–æ. –ú—ã –≤—ã—è–≤–∏–ª–∏ –∞—Ç–∞–∫—É –ø–æ —Å–∫–∞—á–∫—É TTL –∏ –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—é –ø–æ–¥–ø–∏—Å–∏
            DNSSEC. –†—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å –∫–æ–æ—Ä–¥–∏–Ω–∏—Ä–æ–≤–∞–ª: –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∑–æ–Ω—É, –≤—ã–ø—É—Å–∫ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ –±—é–ª–ª–µ—Ç–µ–Ω—è –¥–ª—è —Ä–µ–≥–∏–æ–Ω–æ–≤, –∞–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤ SIEM.
            """
        },
        {
            "title": "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–∞–º–∏ –∏ BGP",
            "body": """
            –†–æ—Å–∏–º—É—â–µ—Å—Ç–≤–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–µ—Ç —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞–º–∏ —Å–≤—è–∑–∏, –∞ –∑–Ω–∞—á–∏—Ç, BGP ‚Äî –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–∏—Å–∫–∞–º–∏. –†—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å –ø–æ–¥–ø–∏—Å—ã–≤–∞–µ—Ç
            –ø–æ–ª–∏—Ç–∏–∫—É **communities** (–∫–∞–∫–∏–µ –º–∞—Ä—à—Ä—É—Ç—ã –æ–±—ä—è–≤–ª—è–µ–º, –∫–∞–∫–∏–µ –ø—Ä–∏–Ω–∏–º–∞–µ–º), –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫—É RPKI –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é. –ü–æ–Ω–∏–º–∞–Ω–∏–µ, –∫–∞–∫
            –∞–≥—Ä–µ–≥–∏—Ä—É—é—Ç—Å—è –ø—Ä–µ—Ñ–∏–∫—Å—ã –∏ –∫–∞–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ blackhole –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –ø—Ä–∏ DDoS, –ø–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞—Ä–∞–Ω–µ–µ —Å–æ–≥–ª–∞—Å–æ–≤–∞—Ç—å ¬´–±–æ–µ–≤–æ–π —Å—Ü–µ–Ω–∞—Ä–∏–π¬ª, –∞ –Ω–µ –ø—Ä–∏–Ω–∏–º–∞—Ç—å
            –∏–º–ø—É–ª—å—Å–∏–≤–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è –≤ —Ä–∞–∑–≥–∞—Ä –∞—Ç–∞–∫–∏.
            """
        },
        {
            "title": "–ú–µ—Ç—Ä–∏–∫–∏ –∞–¥—Ä–µ—Å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã",
            "body": """
            –ú—ã –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º: –ø—Ä–æ—Ü–µ–Ω—Ç –ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã—Ö DNS-–∑–æ–Ω, –¥–æ–ª—é –∞–¥—Ä–µ—Å–æ–≤ —Å —è–≤–Ω—ã–º –≤–ª–∞–¥–µ–ª—å—Ü–µ–º, —Å—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –º–∞—Ä—à—Ä—É—Ç–∞, —á–∏—Å–ª–æ
            –∏–Ω—Ü–∏–¥–µ–Ω—Ç–æ–≤ –∏–∑-–∑–∞ –æ—à–∏–±–æ—á–Ω—ã—Ö NAT-–ø—Ä–∞–≤–∏–ª. –≠—Ç–∏ —Ü–∏—Ñ—Ä—ã –≤—ã–Ω–æ—Å—è—Ç—Å—è –Ω–∞ –∫–æ–º–∏—Ç–µ—Ç –∏ –ø—Ä–∏–≤—è–∑–∞–Ω—ã –∫ –±–æ–Ω—É—Å–∞–º –ø–æ–¥—Ä—è–¥—á–∏–∫–æ–≤.
            """
        }
    ]

    st.markdown('<div class="lesson-card">', unsafe_allow_html=True)
    render_sections(sections)
    st.graphviz_chart('''
        digraph NETWORK {
            rankdir=LR;
            graph [fontname="Helvetica"];
            node [fontname="Helvetica", style=filled];

            subgraph cluster_core {
                label="Core –†–æ—Å–∏–º—É—â–µ—Å—Ç–≤–æ";
                color="#B3E5FC";
                dns1 [label="DNS Master\nDNSSEC", fillcolor="#E3F2FD"];
                dns2 [label="DNS Slave\nAnycast", fillcolor="#E3F2FD"];
                nat [label="Policy NAT\nFirewall Cluster", fillcolor="#FFECB3"];
                bgp [label="BGP Edge\nRPKI", fillcolor="#FFE0B2"];
            }

            subgraph cluster_regions {
                label="–†–µ–≥–∏–æ–Ω—ã";
                color="#C5E1A5";
                region1 [label="–†–µ–≥–∏–æ–Ω –ê\n/27 –ø–æ–¥—Å–µ—Ç—å", fillcolor="#DCEDC8"];
                region2 [label="–†–µ–≥–∏–æ–Ω –ë\n/24 –ø–æ–¥—Å–µ—Ç—å", fillcolor="#DCEDC8"];
            }

            internet [shape=cloud, label="–ò–Ω—Ç–µ—Ä–Ω–µ—Ç / –ì–æ—Å–°–û–ü–ö–ê"];
            attacker [shape=hexagon, label="–ê—Ç–∞–∫—É—é—â–∏–π\nDNS Poison"];

            region1 -> nat -> bgp -> internet;
            internet -> bgp -> nat -> region1;
            nat -> dns1 -> dns2 -> nat;
            attacker -> dns2 [label="–ø–æ–¥–º–µ–Ω–∞ –æ—Ç–≤–µ—Ç–∞"];
            dns2 -> dns1 [label="—Å–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–µ–π"];
            bgp -> region2;
            region2 -> nat;
        }
    ''', use_container_width=True)
    st.caption("–î–∏–∞–≥—Ä–∞–º–º–∞ –æ—Ç—Ä–∞–∂–∞–µ—Ç –≤–∑–∞–∏–º–æ—Å–≤—è–∑—å IP-–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è, NAT –∏ DNS-–∑–∞—â–∏—Ç—ã —Å –ø–æ–∑–∏—Ü–∏—è–º–∏ –†–æ—Å–∏–º—É—â–µ—Å—Ç–≤–∞ –≤ BGP.")

    render_leadership_tips([
        "–£—Ç–≤–µ—Ä–¥–∏—Ç–µ –∫–∞—Ç–∞–ª–æ–≥ IP-–ø–æ–¥—Å–µ—Ç–µ–π —Å –≤–ª–∞–¥–µ–ª—å—Ü–∞–º–∏ –∏ —É—Ä–æ–≤–Ω—è–º–∏ –¥–æ–≤–µ—Ä–∏—è.",
        "–ü–µ—Ä–µ—Å–º–∞—Ç—Ä–∏–≤–∞–π—Ç–µ NAT-–ø—Ä–∞–≤–∏–ª–∞ —Ä–∞–∑ –≤ –∫–≤–∞—Ä—Ç–∞–ª, —É–¥–∞–ª—è—è —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏.",
        "–í–∫–ª—é—á–∏—Ç–µ DNSSEC-–∫–ª—é—á–∏ –≤ —Ä–µ–µ—Å—Ç—Ä –ö–ò–ò –∏ –æ–±–µ—Å–ø–µ—á—å—Ç–µ –ø—Ä–æ—Ü–µ–¥—É—Ä—É —Ä–æ—Ç–∞—Ü–∏–∏.",
        "–î–µ—Ä–∂–∏—Ç–µ —Å—Ü–µ–Ω–∞—Ä–∏–π –æ–ø–æ–≤–µ—â–µ–Ω–∏—è —Ä–µ–≥–∏–æ–Ω–æ–≤ –ø—Ä–∏ DNS-–∞—Ç–∞–∫–∞—Ö (—à–∞–±–ª–æ–Ω—ã –ø–∏—Å–µ–º + –∫–æ–Ω—Ç–∞–∫—Ç—ã).",
        "–°–æ–≥–ª–∞—Å—É–π—Ç–µ —Å –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞–º–∏ –ø–ª–∞–Ω BGP-blackhole –∏ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –∑–∞ –µ–≥–æ –∞–∫—Ç–∏–≤–∞—Ü–∏—é."
    ])

    render_quiz("module2", [
        {
            "question": "–ó–∞—á–µ–º –¥—Ä–æ–±–∏—Ç—å —Å–µ—Ç—å –Ω–∞ –º–∞–ª—ã–µ –ø–æ–¥—Å–µ—Ç–∏ /27?",
            "options": ["–ß—Ç–æ–±—ã —ç–∫–æ–Ω–æ–º–∏—Ç—å –∞–¥—Ä–µ—Å–∞", "–î–ª—è –±—ã—Å—Ç—Ä–æ–π –∏–∑–æ–ª—è—Ü–∏–∏ —Å–µ–≥–º–µ–Ω—Ç–∞", "–î–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è Wi-Fi", "–î–ª—è —Å–Ω–∏–∂–µ–Ω–∏—è –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ –¶–û–î"],
            "answer": "–î–ª—è –±—ã—Å—Ç—Ä–æ–π –∏–∑–æ–ª—è—Ü–∏–∏ —Å–µ–≥–º–µ–Ω—Ç–∞",
            "explanation": "–ú–µ–ª–∫–∏–µ –ø–æ–¥—Å–µ—Ç–∏ –ø–æ–∑–≤–æ–ª—è—é—Ç —Ç–æ—á–µ—á–Ω–æ –æ—Ç–∫–ª—é—á–∞—Ç—å —Ñ–∏–ª–∏–∞–ª –±–µ–∑ –≤–ª–∏—è–Ω–∏—è –Ω–∞ –æ—Å—Ç–∞–ª—å–Ω—ã—Ö."
        },
        {
            "question": "–ö–∞–∫–æ–π —Ç–∏–ø NAT —á–∞—â–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –≤–∏—Ç—Ä–∏–Ω –≤–æ –≤–Ω–µ—à–Ω—é—é —Å–µ—Ç—å?",
            "options": ["Dynamic PAT", "Static NAT", "Policy NAT", "Source NAT"],
            "answer": "Static NAT",
            "explanation": "–ü–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –∏ –≤–Ω–µ—à–Ω–∏—Ö –∞–¥—Ä–µ—Å–æ–≤ –Ω—É–∂–Ω–æ –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤."
        },
        {
            "question": "–ß—Ç–æ —Ç–∞–∫–æ–µ DNSSEC –¥–ª—è —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—è?",
            "options": ["–ú–µ—Ç–æ–¥ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è", "–°–∏—Å—Ç–µ–º–∞ –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∏ –Ω–∞–≥—Ä—É–∑–∫–∏", "–ú–µ—Ö–∞–Ω–∏–∑–º –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–π –ø–æ–¥–ø–∏—Å–∏ –∑–æ–Ω", "–¢–∏–ø Anycast"],
            "answer": "–ú–µ—Ö–∞–Ω–∏–∑–º –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–π –ø–æ–¥–ø–∏—Å–∏ –∑–æ–Ω",
            "explanation": "DNSSEC –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –ø–æ–¥–ª–∏–Ω–Ω–æ—Å—Ç—å –æ—Ç–≤–µ—Ç–∞ –∏ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –ø–æ–¥–º–µ–Ω—ã."
        },
        {
            "question": "–ö–∞–∫–æ–π –ø–æ–∫–∞–∑–∞—Ç–µ–ª—å –≥–æ–≤–æ—Ä–∏—Ç –æ –∑—Ä–µ–ª–æ—Å—Ç–∏ –∞–¥—Ä–µ—Å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã?",
            "options": ["–ß–∏—Å–ª–æ —Å–µ—Ä–≤–µ—Ä–æ–≤", "–ü—Ä–æ—Ü–µ–Ω—Ç –ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã—Ö –∑–æ–Ω", "–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª–∏—Ü–µ–Ω–∑–∏–π", "–°—Ä–µ–¥–Ω—è—è —Å–∫–æ—Ä–æ—Å—Ç—å VPN"],
            "answer": "–ü—Ä–æ—Ü–µ–Ω—Ç –ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã—Ö –∑–æ–Ω",
            "explanation": "–ü–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–µ –∑–æ–Ω—ã —Å–Ω–∏–∂–∞—é—Ç —Ä–∏—Å–∫ DNS-–∞—Ç–∞–∫ –∏ —Ñ–∏–∫—Å–∏—Ä—É—é—Ç –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –¥–æ–º–µ–Ω–∞–º–∏."
        },
        {
            "question": "–ü–æ—á–µ–º—É —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—é –≤–∞–∂–Ω–æ —É—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å –≤ –ø–æ–ª–∏—Ç–∏–∫–µ BGP?",
            "options": ["–ß—Ç–æ–±—ã —É–ø—Ä–∞–≤–ª—è—Ç—å –∑–∞—Ä–ø–ª–∞—Ç–æ–π –∏–Ω–∂–µ–Ω–µ—Ä–æ–≤", "–ü–æ—Ç–æ–º—É —á—Ç–æ BGP –≤–ª–∏—è–µ—Ç –Ω–∞ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞—Ä—à—Ä—É—Ç—ã –∏ —Å—Ü–µ–Ω–∞—Ä–∏–∏ DDoS", "–ß—Ç–æ–±—ã –æ—Ç–∫–ª—é—á–∞—Ç—å Wi-Fi", "–î–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è –æ—Ñ–∏—Å–Ω—ã—Ö –ø—Ä–∏–Ω—Ç–µ—Ä–æ–≤"],
            "answer": "–ü–æ—Ç–æ–º—É —á—Ç–æ BGP –≤–ª–∏—è–µ—Ç –Ω–∞ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞—Ä—à—Ä—É—Ç—ã –∏ —Å—Ü–µ–Ω–∞—Ä–∏–∏ DDoS",
            "explanation": "BGP –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –∫–∞–∫–∏–µ —Å–µ—Ç–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –∏ –∫–∞–∫ –º—ã —Ä–µ–∞–≥–∏—Ä—É–µ–º –Ω–∞ –∞—Ç–∞–∫–∏ —á–µ—Ä–µ–∑ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞."
        }
    ])
    st.markdown('</div>', unsafe_allow_html=True)


def module_three():
    st.title("üîê –ì–ª–∞–≤–∞ 3: –í–µ—Å—å —Ü–∏–∫–ª HTTPS/TLS –∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –ú–∏–Ω—Ü–∏—Ñ—Ä—ã")
    st.caption("–ú–∞—Ç–µ—Ä–∏–∞–ª –Ω–∞ 35‚Äì40 –º–∏–Ω—É—Ç: –æ—Ç —Ç–µ–æ—Ä–∏–∏ –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –¥–æ –±—é—Ä–æ–∫—Ä–∞—Ç–∏–∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏.")

    sections = [
        {
            "title": "HTTPS –∫–∞–∫ —É–ø—Ä–∞–≤–ª–µ–Ω—á–µ—Å–∫–∏–π –ø—Ä–æ—Ü–µ—Å—Å",
            "body": """
            HTTPS ‚Äî —ç—Ç–æ –Ω–µ ¬´–∑–∞–º–æ—á–µ–∫ –≤ –±—Ä–∞—É–∑–µ—Ä–µ¬ª, –∞ –≥–∞—Ä–∞–Ω—Ç–∏—è —é—Ä–∏–¥–∏—á–µ—Å–∫–æ–π —Å–∏–ª—ã —Ü–∏—Ñ—Ä–æ–≤—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π –≥—Ä–∞–∂–¥–∞–Ω. –†—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å –†–æ—Å–∏–º—É—â–µ—Å—Ç–≤–∞ –æ—Ç–≤–µ—á–∞–µ—Ç
            –∑–∞ —Ç–æ, —á—Ç–æ–±—ã —Ü–µ–ø–æ—á–∫–∞ –¥–æ–≤–µ—Ä–∏—è –æ—Ç –±—Ä–∞—É–∑–µ—Ä–∞ –¥–æ –∫–æ—Ä–Ω–µ–≤–æ–≥–æ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ –ú–∏–Ω—Ü–∏—Ñ—Ä—ã –Ω–µ –ø—Ä–µ—Ä—ã–≤–∞–ª–∞—Å—å. –ú—ã —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞–µ–º SSL –∫–∞–∫ –¥–æ–≥–æ–≤–æ—Ä:
            –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å -> –≤–µ–¥–æ–º—Å—Ç–≤–æ -> –ú–∏–Ω—Ü–∏—Ñ—Ä—ã -> –∫–æ—Ä–Ω–µ–≤–æ–π –£–¶. –ù–∞—Ä—É—à–µ–Ω–∏–µ –ª—é–±–æ–≥–æ –∑–≤–µ–Ω–∞ = –∫–æ–º–ø—Ä–æ–º–µ—Ç–∞—Ü–∏—è –¥–æ–≤–µ—Ä–∏—è –∫ —Å–µ—Ä–≤–∏—Å—É.
            """
        },
        {
            "title": "TLS 1.3: –ø–æ—à–∞–≥–æ–≤—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π",
            "body": """
            1. **ClientHello**: –±—Ä–∞—É–∑–µ—Ä –ø—Ä–∏—Å—ã–ª–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö —à–∏—Ñ—Ä–æ–≤, –≤–µ—Ä—Å–∏—é TLS, SNI. –ú—ã —Å–ª–µ–¥–∏–º, —á—Ç–æ–±—ã —Ñ—Ä–æ–Ω—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–ª —Ç–æ–ª—å–∫–æ
            —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —à–∏—Ñ—Ä—ã (TLS_AES_256_GCM_SHA384). 2. **ServerHello**: —Å–µ—Ä–≤–µ—Ä –≤—ã–±–∏—Ä–∞–µ—Ç —à–∏—Ñ—Ä, –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –∏ `ServerHelloDone`.
            3. **CertificateVerify**: —É–¥–æ—Å—Ç–æ–≤–µ—Ä–µ–Ω–∏–µ –ø–æ–¥–ª–∏–Ω–Ω–æ—Å—Ç–∏ –∫–ª—é—á–∞ —Å–µ—Ä–≤–µ—Ä–∞. 4. **Finished**: —Å—Ç–æ—Ä–æ–Ω—ã –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—é—Ç, —á—Ç–æ –æ–±–º–µ–Ω–∏–ª–∏—Å—å –∫–ª—é—á–∞–º–∏.
            –†—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—é –≤–∞–∂–Ω–æ –∑–Ω–∞—Ç—å, —á—Ç–æ –∫–∞–∂–¥—ã–π —ç—Ç–∞–ø –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è –∏ —Ö—Ä–∞–Ω–∏—Ç—Å—è —Å–æ–≥–ª–∞—Å–Ω–æ –ø–æ–ª–∏—Ç–∏–∫–∞–º –ö–ò–ò, —á—Ç–æ–±—ã –ø—Ä–∏ –∏–Ω—Ü–∏–¥–µ–Ω—Ç–µ –º–æ–∂–Ω–æ –±—ã–ª–æ –¥–æ–∫–∞–∑–∞—Ç—å,
            —á—Ç–æ –∞—Ç–∞–∫–∞ –Ω–µ –ø—Ä–æ–∏–∑–æ—à–ª–∞ –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ –≤–µ–¥–æ–º—Å—Ç–≤–∞.
            """
        },
        {
            "title": "–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –ú–∏–Ω—Ü–∏—Ñ—Ä—ã: –±—é—Ä–æ–∫—Ä–∞—Ç–∏—è –±–µ–∑ –±–æ–ª–∏",
            "body": """
            –í –≥–æ—Å—Å–µ–∫—Ç–æ—Ä–µ –Ω–µ–ª—å–∑—è –ø—Ä–æ—Å—Ç–æ –∫—É–ø–∏—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç —É –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ CA. –ú—ã —Ä–∞–±–æ—Ç–∞–µ–º —Å –£–¶, –∞–∫–∫—Ä–µ–¥–∏—Ç–æ–≤–∞–Ω–Ω—ã–º–∏ –ú–∏–Ω—Ü–∏—Ñ—Ä—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, –§–ù–° –∏–ª–∏
            –ú–∏–Ω—Ü–∏—Ñ—Ä—ã-ID). –ü—Ä–æ—Ü–µ—Å—Å –≤–∫–ª—é—á–∞–µ—Ç: —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é –¥–æ–º–µ–Ω–∞ –≤ —Ä–µ–µ—Å—Ç—Ä–µ, –≤—ã–ø—É—Å–∫ CSR —á–µ—Ä–µ–∑ –∑–∞—â–∏—â—ë–Ω–Ω—ã–µ HSM, –ø–æ–¥–∞—á—É –∑–∞—è–≤–∫–∏ —á–µ—Ä–µ–∑ –ï–°–ò–ê, –ø–æ–ª—É—á–µ–Ω–∏–µ
            —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ –∏ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—É—é —É—Å—Ç–∞–Ω–æ–≤–∫—É –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –≤–µ–¥–æ–º—Å—Ç–≤–∞. –†—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω —É—Ç–≤–µ—Ä–¥–∏—Ç—å –∫–∞–ª–µ–Ω–¥–∞—Ä—å —Ä–æ—Ç–∞—Ü–∏–∏ (–æ–±—ã—á–Ω–æ –∫–∞–∂–¥—ã–µ 12 –º–µ—Å—è—Ü–µ–≤)
            –∏ —Ä–µ–∑–µ—Ä–≤–Ω—ã–π –ø–ª–∞–Ω –Ω–∞ —Å–ª—É—á–∞–π –æ—Ç–∑—ã–≤–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞.
            """
        },
        {
            "title": "MTLS, HSM –∏ –∞–ø–ø–∞—Ä–∞—Ç–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è",
            "body": """
            –î–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π —Å –§–µ–¥–µ—Ä–∞–ª—å–Ω—ã–º –∫–∞–∑–Ω–∞—á–µ–π—Å—Ç–≤–æ–º –∏ –ú–∏–Ω—Ñ–∏–Ω–æ–º –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **–≤–∑–∞–∏–º–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (mTLS)**. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –Ω–µ —Ç–æ–ª—å–∫–æ
            –≥—Ä–∞–∂–¥–∞–Ω–∏–Ω –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–æ—Ä—Ç–∞–ª –†–æ—Å–∏–º—É—â–µ—Å—Ç–≤–∞, –Ω–æ –∏ –ø–æ—Ä—Ç–∞–ª –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é. –ö–ª—é—á–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ —Å–µ—Ä—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö HSM (¬´–ö—Ä–∏–ø—Ç–æ–ü—Ä–æ
            SKZI 2.0¬ª). –†—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å —É—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –±—é–¥–∂–µ—Ç –Ω–∞ –∞–ø–ø–∞—Ä–∞—Ç–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã, –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç –∂—É—Ä–Ω–∞–ª –æ–ø–µ—Ä–∞—Ü–∏–π HSM –∏ —É—á–∞—Å—Ç–∏–µ —Å–ª—É–∂–±—ã –ò–ë –≤ –ø—Ä–æ—Ü–µ–¥—É—Ä–∞—Ö
            –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –∫–ª—é—á–µ–π.
            """
        },
        {
            "title": "–ù–∞–±–ª—é–¥–∞–µ–º–æ—Å—Ç—å –∏ –æ—Ç—á—ë—Ç–Ω–æ—Å—Ç—å",
            "body": """
            –í –ª–æ–≥–∞—Ö –º—ã —Ñ–∏–∫—Å–∏—Ä—É–µ–º: –≤–µ—Ä—Å–∏—é TLS, –≤—ã–±—Ä–∞–Ω–Ω—ã–µ —à–∏—Ñ—Ä–æ—Åuites, –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ä—É–∫–æ–ø–æ–∂–∞—Ç–∏—è, –æ—à–∏–±–∫–∏ OCSP, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤.
            –≠—Ç–∏ –¥–∞–Ω–Ω—ã–µ —Å–æ–±–∏—Ä–∞—é—Ç—Å—è –≤ –æ—Ç–¥–µ–ª—å–Ω—É—é –≤–∏—Ç—Ä–∏–Ω—É –∏ –æ–±—Å—É–∂–¥–∞—é—Ç—Å—è –Ω–∞ –µ–∂–µ–º–µ—Å—è—á–Ω–æ–º –∫–æ–º–∏—Ç–µ—Ç–µ –ò–ë. –†—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—é –≤–∞–∂–Ω–æ —Ç—Ä–µ–±–æ–≤–∞—Ç—å –¥–∞—à–±–æ—Ä–¥, –≥–¥–µ –≤–∏–¥–Ω–æ,
            —Å–∫–æ–ª—å–∫–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∑–∞—Ö–æ–¥—è—Ç —Å–æ —Å—Ç–∞—Ä—ã–º–∏ –±—Ä–∞—É–∑–µ—Ä–∞–º–∏ –∏ –∫–∞–∫–æ–π –ø—Ä–æ—Ü–µ–Ω—Ç –æ—Ç–∫–∞–∑–æ–≤ —Å–≤—è–∑–∞–Ω —Å OCSP stapling.
            """
        },
        {
            "title": "–ò–Ω—Ü–∏–¥–µ–Ω—Ç: –æ—Ç–∑—ã–≤ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞",
            "body": """
            –ï—Å–ª–∏ –ú–∏–Ω—Ü–∏—Ñ—Ä—ã –æ—Ç–∑—ã–≤–∞–µ—Ç —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∏–∑-–∑–∞ –∫–æ–º–ø—Ä–æ–º–µ—Ç–∞—Ü–∏–∏ –∑–∞–∫—Ä—ã—Ç–æ–≥–æ –∫–ª—é—á–∞), —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å –∑–∞–ø—É—Å–∫–∞–µ—Ç playbook: —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
            –≤—Å–µ—Ö –≤–Ω–µ—à–Ω–∏—Ö –ø–ª–æ—â–∞–¥–æ–∫, –∑–∞–º–µ–Ω–∞ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞, –≤—ã–ø—É—Å–∫ CRL, –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ —Ä–µ–∑–µ—Ä–≤–Ω—ã–π –¥–æ–º–µ–Ω. –ü—Ä–∞–∫—Ç–∏–∫–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç, —á—Ç–æ –±–µ–∑ –∑–∞—Ä–∞–Ω–µ–µ
            –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–ª–∞–Ω–∞ –º–æ–∂–Ω–æ –ø–æ–ª—É—á–∏—Ç—å –º–∞—Å—Å–æ–≤—ã–µ –æ–±—Ä–∞—â–µ–Ω–∏—è –≥—Ä–∞–∂–¥–∞–Ω –∏ —Ä–µ–ø—É—Ç–∞—Ü–∏–æ–Ω–Ω—ã–π —É—â–µ—Ä–±.
            """
        },
        {
            "title": "–≠–∫–æ–Ω–æ–º–∏–∫–∞ HTTPS",
            "body": """
            –ó–∞ –∫–∞–∂–¥—ã–º —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–º —Å—Ç–æ–∏—Ç —Å—Ç–æ–∏–º–æ—Å—Ç—å: HSM, –ª–∏—Ü–µ–Ω–∑–∏–∏ –ö—Ä–∏–ø—Ç–æ–ü—Ä–æ, —Ç–µ—Å—Ç–æ–≤—ã–µ –∫–æ–Ω—Ç—É—Ä—ã, –∞—É–¥–∏—Ç. –†—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç TCO –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç,
            —á—Ç–æ ¬´–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç¬ª ‚Äî —ç—Ç–æ –Ω–µ —Ç–æ–ª—å–∫–æ 20 000 ‚ÇΩ –ø–æ—à–ª–∏–Ω—ã, –Ω–æ –∏ 200 —á–∞—Å–æ–≤ –∏–Ω–∂–µ–Ω–µ—Ä–æ–≤, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏.
            –≠—Ç–æ –ø–æ–º–æ–≥–∞–µ—Ç –æ—Ç–±–∏—Ç—å –ø–æ–ø—ã—Ç–∫–∏ —ç–∫–æ–Ω–æ–º–∏—Ç—å –Ω–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏.
            """
        }
    ]

    st.markdown('<div class="lesson-card">', unsafe_allow_html=True)
    render_sections(sections)
    st.graphviz_chart('''
        digraph TLS {
            rankdir=LR;
            graph [fontname="Helvetica"];
            node [fontname="Helvetica", style=filled, fillcolor="#E3F2FD"];

            client [shape=oval, label="–ì—Ä–∞–∂–¥–∞–Ω–∏–Ω\n–±—Ä–∞—É–∑–µ—Ä"];
            reverse [shape=box, label="Reverse-proxy\nNGFW"];
            web [shape=box, label="–í–µ–±-—Å–µ—Ä–≤–µ—Ä\nNginx/Envoy"];
            hsm [shape=box, label="HSM\n–ö—Ä–∏–ø—Ç–æ–ü—Ä–æ"];
            ca [shape=box, label="–£–¶ –ú–∏–Ω—Ü–∏—Ñ—Ä—ã"];
            ocsp [shape=box, label="OCSP Stapling"];
            audit [shape=parallelogram, label="–ñ—É—Ä–Ω–∞–ª—ã TLS"];

            client -> reverse [label="ClientHello"];
            reverse -> web [label="SNI/ALPN"];
            web -> hsm [label="–ó–∞–ø—Ä–æ—Å –ø—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ –∫–ª—é—á–∞"];
            web -> client [label="ServerHello + Cert"];
            client -> web [label="Finished"];
            web -> ocsp [label="Stapling"];
            web -> audit;
            ca -> web [label="–°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç"];
            ca -> ocsp;
        }
    ''', use_container_width=True)
    st.caption("–î–∏–∞–≥—Ä–∞–º–º–∞ —Ä–∞—Å–∫—Ä—ã–≤–∞–µ—Ç —Ü–µ–ø–æ—á–∫—É –¥–æ–≤–µ—Ä–∏—è TLS –æ—Ç –±—Ä–∞—É–∑–µ—Ä–∞ –≥—Ä–∞–∂–¥–∞–Ω–∏–Ω–∞ –¥–æ –∫–æ—Ä–Ω–µ–≤–æ–≥–æ –£–¶ –ú–∏–Ω—Ü–∏—Ñ—Ä—ã –∏ –∂—É—Ä–Ω–∞–ª–æ–≤ –ò–ë.")

    render_leadership_tips([
        "–£—Ç–≤–µ—Ä–¥–∏—Ç–µ –∫–∞–ª–µ–Ω–¥–∞—Ä—å —Ä–æ—Ç–∞—Ü–∏–∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ –∏ –ø—Ä–∏–≤—è–∂–∏—Ç–µ –µ–≥–æ –∫ KPI –ø–æ–¥—Ä—è–¥—á–∏–∫–∞.",
        "–•—Ä–∞–Ω–∏—Ç–µ CSR –∏ –∫–ª—é—á–∏ —Ç–æ–ª—å–∫–æ –≤ —Å–µ—Ä—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö HSM, –∑–∞–ø—Ä–µ—â–∞—è —ç–∫—Å–ø–æ—Ä—Ç.",
        "–ö–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–π—Ç–µ –æ—Ç—á—ë—Ç –ø–æ OCSP-–æ—à–∏–±–∫–∞–º: —Ä–æ—Å—Ç >2% —Ç—Ä–µ–±—É–µ—Ç —Ä–∞–∑–±–∏—Ä–∞—Ç–µ–ª—å—Å—Ç–≤–∞.",
        "–†–∞–∑ –≤ –ø–æ–ª–≥–æ–¥–∞ –ø—Ä–æ–≤–æ–¥–∏—Ç–µ —É—á–µ–Ω–∏—è –ø–æ –æ—Ç–∑—ã–≤—É —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ –∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—é –Ω–∞ —Ä–µ–∑–µ—Ä–≤.",
        "–û—Ç–¥–µ–ª—å–Ω–æ–π —Å—Ç—Ä–æ–∫–æ–π –±—é–¥–∂–µ—Ç–∞ –≤—ã–¥–µ–ª—è–π—Ç–µ —Å–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏–µ mTLS –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π —Å –ö–∞–∑–Ω–∞—á–µ–π—Å—Ç–≤–æ–º."
    ])

    render_quiz("module3", [
        {
            "question": "–ö–∞–∫–æ–π —ç—Ç–∞–ø TLS-–ø—Ä–æ—Ü–µ—Å—Å–∞ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç —Å–µ—Ä–≤–µ—Ä–∞?",
            "options": ["ClientHello", "ServerHello", "Finished", "ChangeCipherSpec"],
            "answer": "ServerHello",
            "explanation": "–°–µ—Ä–≤–µ—Ä –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –≤–º–µ—Å—Ç–µ —Å –æ—Ç–≤–µ—Ç–æ–º –Ω–∞ ClientHello."
        },
        {
            "question": "–ü–æ—á–µ–º—É –≤ –≥–æ—Å—Å–µ–∫—Ç–æ—Ä–µ –Ω–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–ª—É—á–∞–π–Ω—ã–µ –∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏–µ –£–¶?",
            "options": ["–û–Ω–∏ —Å–ª–∏—à–∫–æ–º –¥–æ—Ä–æ–≥–∏–µ", "–ù–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫–∏ TLS 1.3", "–ù–µ –∞–∫–∫—Ä–µ–¥–∏—Ç–æ–≤–∞–Ω—ã –ú–∏–Ω—Ü–∏—Ñ—Ä—ã –∏ –Ω–µ –≤—Ö–æ–¥—è—Ç –≤ –¥–æ–≤–µ—Ä–µ–Ω–Ω—É—é —Ü–µ–ø–æ—á–∫—É", "–¢—Ä–µ–±—É—é—Ç Linux"],
            "answer": "–ù–µ –∞–∫–∫—Ä–µ–¥–∏—Ç–æ–≤–∞–Ω—ã –ú–∏–Ω—Ü–∏—Ñ—Ä—ã –∏ –Ω–µ –≤—Ö–æ–¥—è—Ç –≤ –¥–æ–≤–µ—Ä–µ–Ω–Ω—É—é —Ü–µ–ø–æ—á–∫—É",
            "explanation": "–¢–æ–ª—å–∫–æ –∞–∫–∫—Ä–µ–¥–∏—Ç–æ–≤–∞–Ω–Ω—ã–µ –£–¶ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç —é—Ä–∏–¥–∏—á–µ—Å–∫—É—é —Å–∏–ª—É —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤ –≤–µ–¥–æ–º—Å—Ç–≤–∞."
        },
        {
            "question": "–ß—Ç–æ —Ç–∞–∫–æ–µ mTLS?",
            "options": ["–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤", "–í–∑–∞–∏–º–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∫–ª–∏–µ–Ω—Ç–∞ –∏ —Å–µ—Ä–≤–µ—Ä–∞", "–ú–µ—Ç–æ–¥ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è", "–¢–∏–ø VPN"],
            "answer": "–í–∑–∞–∏–º–Ω–∞—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∫–ª–∏–µ–Ω—Ç–∞ –∏ —Å–µ—Ä–≤–µ—Ä–∞",
            "explanation": "–ü—Ä–∏ mTLS –æ–±–µ —Å—Ç–æ—Ä–æ–Ω—ã –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—Ç —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –∏ –ø—Ä–æ–≤–µ—Ä—è—é—Ç –¥—Ä—É–≥ –¥—Ä—É–≥–∞."
        },
        {
            "question": "–ó–∞—á–µ–º —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—é –∂—É—Ä–Ω–∞–ª–∏—Ä–æ–≤–∞—Ç—å –≤–µ—Ä—Å–∏–∏ TLS –∏ —à–∏—Ñ—Ä–æ—Åuites?",
            "options": ["–î–ª—è –¥–∏–∑–∞–π–Ω–∞ UI", "–ß—Ç–æ–±—ã –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å –Ω–∞–≥—Ä—É–∑–∫—É –Ω–∞ CPU", "–ß—Ç–æ–±—ã –¥–æ–∫–∞–∑–∞—Ç—å —Å–æ–±–ª—é–¥–µ–Ω–∏–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–æ–≤ –ò–ë –∏ –≤–æ–≤—Ä–µ–º—è –≤—ã—è–≤–ª—è—Ç—å —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ –∫–ª–∏–µ–Ω—Ç—ã", "–î–ª—è —Ä–∞—Å—á—ë—Ç–∞ –∑–∞—Ä–ø–ª–∞—Ç"],
            "answer": "–ß—Ç–æ–±—ã –¥–æ–∫–∞–∑–∞—Ç—å —Å–æ–±–ª—é–¥–µ–Ω–∏–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–æ–≤ –ò–ë –∏ –≤–æ–≤—Ä–µ–º—è –≤—ã—è–≤–ª—è—Ç—å —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ –∫–ª–∏–µ–Ω—Ç—ã",
            "explanation": "–õ–æ–≥–∏ TLS –ø–æ–º–æ–≥–∞—é—Ç –ø—Ä–æ–π—Ç–∏ –∞—É–¥–∏—Ç –∏ –±—ã—Å—Ç—Ä–æ –∑–∞–º–µ—Ç–∏—Ç—å –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è."
        },
        {
            "question": "–ß—Ç–æ –¥–µ–ª–∞–µ—Ç OCSP stapling?",
            "options": ["–®–∏—Ñ—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ", "–ü–µ—Ä–µ–¥–∞—ë—Ç —Å—Ç–∞—Ç—É—Å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ –æ—Ç –£–¶ –∫ –∫–ª–∏–µ–Ω—Ç—É —á–µ—Ä–µ–∑ —Å–µ—Ä–≤–µ—Ä", "–ë–∞–ª–∞–Ω—Å–∏—Ä—É–µ—Ç —Ç—Ä–∞—Ñ–∏–∫", "–ú–µ–Ω—è–µ—Ç IP"],
            "answer": "–ü–µ—Ä–µ–¥–∞—ë—Ç —Å—Ç–∞—Ç—É—Å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ –æ—Ç –£–¶ –∫ –∫–ª–∏–µ–Ω—Ç—É —á–µ—Ä–µ–∑ —Å–µ—Ä–≤–µ—Ä",
            "explanation": "–°–µ—Ä–≤–µ—Ä –ø—Ä–∏–∫–ª–∞–¥—ã–≤–∞–µ—Ç —Å–≤–µ–∂–∏–π –æ—Ç–≤–µ—Ç OCSP, —á—Ç–æ–±—ã –∫–ª–∏–µ–Ω—Ç –Ω–µ –æ–±—Ä–∞—â–∞–ª—Å—è –Ω–∞–ø—Ä—è–º—É—é –∫ –£–¶."
        }
    ])
    st.markdown('</div>', unsafe_allow_html=True)


def module_four():
    st.title("üè¥‚Äç‚ò†Ô∏è –ì–ª–∞–≤–∞ 4: –°–æ—Ü–∏–∞–ª—å–Ω–∞—è –∏–Ω–∂–µ–Ω–µ—Ä–∏—è, —Ñ–∏—à–∏–Ω–≥, WAF –∏ Firewall")
    st.caption("–ó–∞–∫–ª—é—á–∏—Ç–µ–ª—å–Ω—ã–π –º–æ–¥—É–ª—å (~40 –º–∏–Ω—É—Ç) –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –ø–æ–≤–µ–¥–µ–Ω—á–µ—Å–∫–∏–µ –∞—Ç–∞–∫–∏ –∏ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫—É—é –∑–∞—â–∏—Ç—É –ø–µ—Ä–∏–º–µ—Ç—Ä–∞.")

    sections = [
        {
            "title": "–°–æ—Ü–∏–∞–ª—å–Ω–∞—è –∏–Ω–∂–µ–Ω–µ—Ä–∏—è –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω–æ–π –≤–µ–∫—Ç–æ—Ä",
            "body": """
            82% —É—Å–ø–µ—à–Ω—ã—Ö –∞—Ç–∞–∫ –Ω–∞ –≥–æ—Å—Å–µ–∫—Ç–æ—Ä –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è —Å —á–µ–ª–æ–≤–µ–∫–∞. –°–æ—Ü–∏–∞–ª—å–Ω–∞—è –∏–Ω–∂–µ–Ω–µ—Ä–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∞–≤—Ç–æ—Ä–∏—Ç–µ—Ç –ú–∏–Ω—Ü–∏—Ñ—Ä—ã, —Å—Ä–æ—á–Ω–æ—Å—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–æ–æ–±–æ—Ä–æ—Ç–∞,
            —É—Å—Ç–∞–ª–æ—Å—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤. –†—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –≤–Ω–µ–¥—Ä–∏—Ç—å –∫—É–ª—å—Ç—É—Ä—É –ø—Ä–æ–≤–µ—Ä–∫–∏: –ª—é–±–æ–µ –ø–∏—Å—å–º–æ —Å —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ–º ¬´—Å—Ä–æ—á–Ω–æ –ø–æ–¥–ø–∏—Å–∞—Ç—å –∞–∫—Ç¬ª –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è
            –ø–æ —Ç–µ–ª–µ—Ñ–æ–Ω–Ω–æ–º—É –∫–∞–Ω–∞–ª—É. –§–æ—Ä–º–∏—Ä—É–π—Ç–µ ¬´–∫—Ä–∞—Å–Ω—ã–µ —Ñ–ª–∞–∂–∫–∏¬ª –∏ –¥–µ–ª–∏—Ç–µ—Å—å –∏–º–∏ —Å —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∞–ª—å–Ω—ã–º–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º–∏.
            """
        },
        {
            "title": "–§–∏—à–∏–Ω–≥–æ–≤—ã–µ –∫–∞–º–ø–∞–Ω–∏–∏ –∏ –∏—Ö —ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏–π —ç—Ñ—Ñ–µ–∫—Ç",
            "body": """
            –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ñ–∏—à–∏–Ω–≥ ‚Äî —ç—Ç–æ –ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è, –∏–º–∏—Ç–∏—Ä—É—é—â–∏–µ —Å—Ç–∏–ª—å –ú–∏–Ω—Ü–∏—Ñ—Ä—ã –∏–ª–∏ –†–æ—Å–∏–º—É—â–µ—Å—Ç–≤–∞. –ü–æ—Å–ª–µ –∫–æ–º–ø—Ä–æ–º–µ—Ç–∞—Ü–∏–∏ —É—á—ë—Ç–Ω–æ–π –∑–∞–ø–∏—Å–∏
            –∑–ª–æ—É–º—ã—à–ª–µ–Ω–Ω–∏–∫–∏ –Ω–µ —Å—Ä–∞–∑—É –¥–µ–π—Å—Ç–≤—É—é—Ç, –∞ –∏–∑—É—á–∞—é—Ç –ø–µ—Ä–µ–ø–∏—Å–∫—É, —á—Ç–æ–±—ã –º–∏–Ω–∏–º–∞–ª—å–Ω–æ –≤–º–µ—à–∏–≤–∞—Ç—å—Å—è. –ü–æ—Ç–µ—Ä–∏ –≤—ã—Ä–∞–∂–∞—é—Ç—Å—è –Ω–µ —Ç–æ–ª—å–∫–æ –≤ —É–∫—Ä–∞–¥–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö,
            –Ω–æ –∏ –≤ —Ä–µ–ø—É—Ç–∞—Ü–∏–∏: –ø—É–±–ª–∏–∫–∞—Ü–∏—è –¥–∞–∂–µ –æ–¥–Ω–æ–≥–æ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞ —Å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏ —Å–æ–∑–¥–∞–µ—Ç –∫—Ä–∏–∑–∏—Å –¥–æ–≤–µ—Ä–∏—è. –ú—ã –∏–∑–º–µ—Ä—è–µ–º —ç—Ñ—Ñ–µ–∫—Ç –∫–∞–∫ *—Å—Ç–æ–∏–º–æ—Å—Ç—å
            –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π + —à—Ç—Ä–∞—Ñ –∑–∞ —Ä–∞—Å–∫—Ä—ã—Ç–∏–µ –¥–∞–Ω–Ω—ã—Ö*.
            """
        },
        {
            "title": "WAF –∏ NGFW: —Ä–æ–ª–∏ –∏ –≥—Ä–∞–Ω–∏—Ü—ã",
            "body": """
            **WAF** –∑–∞—â–∏—â–∞–µ—Ç –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ —É—Ä–æ–≤–Ω–µ HTTP/HTTPS, **NGFW** ‚Äî —É–ø—Ä–∞–≤–ª—è–µ—Ç –≤—Å–µ–º –ø–µ—Ä–∏–º–µ—Ç—Ä–æ–º (L3-L7). –†—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å –∑–∞–¥–∞—ë—Ç —Å—Ç—Ä–∞—Ç–µ–≥–∏—é:
            WAF –∑–∞–∫—Ä—ã–≤–∞–µ—Ç –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É (SQLi, XSS, –Ω–∞—Ä—É—à–µ–Ω–∏—è —Å—Ö–µ–º—ã API), NGFW –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç –∫–∞–Ω–∞–ª—ã, —Å–µ–≥–º–µ–Ω—Ç–∞—Ü–∏—é, VPN. –ú—ã –æ–ø–∏—Å—ã–≤–∞–µ–º –∏–Ω—Ü–∏–¥–µ–Ω—Ç—ã
            —Ç–µ—Ä–º–∏–Ω–æ–º ¬´–≤ –∫–∞–∫–æ–π –ø–ª–æ—Å–∫–æ—Å—Ç–∏ –±—ã–ª–∞ –∞—Ç–∞–∫–∞¬ª –∏ –Ω–∞–∑–Ω–∞—á–∞–µ–º –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã—Ö (DevSecOps –∏–ª–∏ —Å–µ—Ç—å).
            """
        },
        {
            "title": "–°—Ü–µ–Ω–∞—Ä–∏–π –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–π –∞—Ç–∞–∫–∏",
            "body": """
            1. –§–∏—à–∏–Ω–≥–æ–≤–æ–µ –ø–∏—Å—å–º–æ —Å —Ñ–∞–ª—å—à–∏–≤—ã–º –¥–æ–º–µ–Ω–æ–º `mincifry.gov.ru`. 2. –°–æ—Ç—Ä—É–¥–Ω–∏–∫ –≤–≤–æ–¥–∏—Ç –ø–∞—Ä–æ–ª—å, –∑–ª–æ—É–º—ã—à–ª–µ–Ω–Ω–∏–∫ –ø–æ–ª—É—á–∞–µ—Ç VPN-–¥–æ—Å—Ç—É–ø. 3. –ß–µ—Ä–µ–∑
            —Ç—É–Ω–Ω–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Ç—Ä–∞—Ñ–∏–∫ –∫ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é, –≥–¥–µ —á–µ—Ä–µ–∑ —É—è–∑–≤–∏–º–æ—Å—Ç—å –ø—ã—Ç–∞—é—Ç—Å—è –≤—ã–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ. 4. –ù–∞ –ø–µ—Ä–∏–º–µ—Ç—Ä–µ NGFW —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç –∞–Ω–æ–º–∞–ª—å–Ω—ã–π
            –æ–±—ä—ë–º, WAF –≤–∏–¥–∏—Ç –ø–æ–ø—ã—Ç–∫–∏ SQL-–∏–Ω—ä–µ–∫—Ü–∏–π. 5. SOC —Å–≤—è–∑—ã–≤–∞–µ—Ç —Å–æ–±—ã—Ç–∏—è –∏ –±–ª–æ–∫–∏—Ä—É–µ—Ç —É—á—ë—Ç–∫—É. –í–∞–∂–Ω–æ, —á—Ç–æ–±—ã —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å –∑–Ω–∞–ª: –±–µ–∑ —Å–≤–æ–µ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ
            –¥–æ–∫–ª–∞–¥–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ –æ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–æ–º –ø–∏—Å—å–º–µ SOC –ø–æ—Ç—Ä–∞—Ç–∏–ª –±—ã –±–æ–ª—å—à–µ –≤—Ä–µ–º–µ–Ω–∏, —Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ —É—â–µ—Ä–± –≤—ã—Ä–æ—Å –±—ã.
            """
        },
        {
            "title": "–û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–æ–Ω–Ω—ã–µ –ø—Ä–æ—Ç–∏–≤–æ–¥–µ–π—Å—Ç–≤–∏—è",
            "body": """
            –†–∞–∑ –≤ –∫–≤–∞—Ä—Ç–∞–ª –ø—Ä–æ–≤–æ–¥–∏–º –∏–º–∏—Ç–∞—Ü–∏—é —Ñ–∏—à–∏–Ω–≥–∞, –ø—Ä–∏—á—ë–º —Å—Ü–µ–Ω–∞—Ä–∏–∏ –ø–∏—à—É—Ç—Å—è —Å —É—á—ë—Ç–æ–º —Ñ–µ–¥–µ—Ä–∞–ª—å–Ω–æ–π –ø–æ–≤–µ—Å—Ç–∫–∏ (–∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–µ–≥–ª–∞–º–µ–Ω—Ç–∞, –Ω–æ–≤–∞—è –º–µ—Ç–æ–¥–∏–∫–∞).
            –†—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å –ø—É–±–ª–∏—á–Ω–æ –Ω–∞–≥—Ä–∞–∂–¥–∞–µ—Ç —Ç–µ—Ö, –∫—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ—Ç—Ä–µ–∞–≥–∏—Ä–æ–≤–∞–ª, –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å —Ç–µ–º–∏, –∫—Ç–æ –ø—Ä–æ–≤–∞–ª–∏–ª —Ç–µ—Å—Ç: –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ,
            –ø–æ–≤—Ç–æ—Ä–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞. –°–æ–∑–¥–∞—ë–º ¬´–∫–∞—Ç–∞–ª–æ–≥ —Ä–µ–∞–∫—Ü–∏–π¬ª ‚Äî –ø–æ—à–∞–≥–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏, –∫–∞–∫ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫ –¥–æ–ª–∂–µ–Ω –¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å –ø—Ä–∏ –ø–æ–¥–æ–∑—Ä–µ–Ω–∏–∏.
            """
        },
        {
            "title": "–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã WAF/Firewall",
            "body": """
            - **–ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ API**: –æ–ø–∏—Å—ã–≤–∞–µ–º –¥–æ–ø—É—Å—Ç–∏–º—ã–µ –º–µ—Ç–æ–¥—ã –∏ —Å—Ö–µ–º—ã JSON. –õ—é–±–æ–µ —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏–µ ‚Äî –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –∏ —Ç–∏–∫–µ—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º.
            - **–°–µ–≥–º–µ–Ω—Ç–∞—Ü–∏—è NGFW**: –∑–∞–ø—Ä–µ—â–∞–µ–º –ø—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∏–∑ VPN –≤ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö, —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã.
            - **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –æ—Ç–∫–∞—Ç–∞ –ø—Ä–∞–≤–∏–ª**: –∫–∞–∂–¥–æ–µ –≤—Ä–µ–º–µ–Ω–Ω–æ–µ –ø—Ä–∞–≤–∏–ª–æ –∏–º–µ–µ—Ç TTL, —á—Ç–æ–±—ã ¬´—ç–∫—Å—Ç—Ä–µ–Ω–Ω—ã–µ –æ—Ç–∫—Ä—ã—Ç–∏—è¬ª –Ω–µ –≤–∏—Å–µ–ª–∏ –º–µ—Å—è—Ü–∞–º–∏.
            """
        },
        {
            "title": "–ú–µ—Ç—Ä–∏–∫–∏ –∏ –∫—É–ª—å—Ç—É—Ä–∞",
            "body": """
            –†—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å —Å–º–æ—Ç—Ä–∏—Ç: –¥–æ–ª—é —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤, –ø—Ä–æ—à–µ–¥—à–∏—Ö —Ç—Ä–µ–Ω–∏–Ω–≥, –≤—Ä–µ–º—è —Ä–µ–∞–∫—Ü–∏–∏ SOC –Ω–∞ —Ñ–∏—à–∏–Ω–≥, –ø—Ä–æ—Ü–µ–Ω—Ç –ª–æ–∂–Ω–æ–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã—Ö —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–π WAF,
            —á–∏—Å–ª–æ emergency-–ø—Ä–∞–≤–∏–ª firewall. –≠—Ç–∏ –º–µ—Ç—Ä–∏–∫–∏ –æ–±—Å—É–∂–¥–∞—é—Ç—Å—è –Ω–∞ —É—Ä–æ–≤–Ω–µ –∑–∞–º–µ—Å—Ç–∏—Ç–µ–ª–µ–π –∏ –≤—à–∏–≤–∞—é—Ç—Å—è –≤ —Å–∏—Å—Ç–µ–º—É –º–æ—Ç–∏–≤–∞—Ü–∏–∏.
            """
        }
    ]

    st.markdown('<div class="lesson-card">', unsafe_allow_html=True)
    render_sections(sections)
    st.graphviz_chart('''
        digraph SECURITY {
            rankdir=LR;
            graph [fontname="Helvetica"];
            node [fontname="Helvetica", style=filled, fillcolor="#FCE4EC"];

            user [shape=oval, label="–°–æ—Ç—Ä—É–¥–Ω–∏–∫\n—Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏–∞–ª—å–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è"];
            mail [shape=box, label="–ü–æ—á—Ç–∞\n(O365/GovCloud)", fillcolor="#F8BBD0"];
            soc [shape=box, label="SOC/–°–∏–≠–ú", fillcolor="#FFCDD2"];
            vpn [shape=box, label="VPN/NGFW", fillcolor="#F48FB1"];
            waf [shape=box, label="WAF/API Gateway", fillcolor="#F48FB1"];
            app [shape=box, label="–ü–æ—Ä—Ç–∞–ª –†–æ—Å–∏–º—É—â–µ—Å—Ç–≤–∞", fillcolor="#F8BBD0"];
            db [shape=box, label="–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö\n–∞–∫—Ç–∏–≤–æ–≤", fillcolor="#F8BBD0"];
            attacker [shape=hexagon, label="–§–∏—à–µ—Ä"];

            attacker -> user [label="–°–æ—Ü. –∏–Ω–∂–µ–Ω–µ—Ä–∏—è"];
            user -> mail [label="–ü–æ–¥–æ–∑—Ä–µ–Ω–∏–µ/—Ä–µ–ø–æ—Ä—Ç"];
            mail -> soc [label="Threat Intel"];
            attacker -> vpn [label="–ö–æ–º–ø—Ä–æ–º–µ—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫—Ä–µ–¥—ã"];
            vpn -> waf [label="–ê–Ω–æ–º–∞–ª—å–Ω—ã–π —Ç—Ä–∞—Ñ–∏–∫"];
            waf -> app [label="–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è"];
            app -> db [label="–î–æ—Å—Ç—É–ø"];
            soc -> vpn [label="–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞"];
            soc -> waf [label="–ö–æ—Ä—Ä–µ–∫—Ü–∏—è —Å–∏–≥–Ω–∞—Ç—É—Ä"];
        }
    ''', use_container_width=True)
    st.caption("–î–∏–∞–≥—Ä–∞–º–º–∞ –∏–ª–ª—é—Å—Ç—Ä–∏—Ä—É–µ—Ç —Å–≤—è–∑—å —á–µ–ª–æ–≤–µ—á–µ—Å–∫–æ–≥–æ —Ñ–∞–∫—Ç–æ—Ä–∞, SOC –∏ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö —Å—Ä–µ–¥—Å—Ç–≤ –∑–∞—â–∏—Ç—ã –ø–µ—Ä–∏–º–µ—Ç—Ä–∞.")

    render_leadership_tips([
        "–°–¥–µ–ª–∞–π—Ç–µ —Ä–µ–ø–æ—Ä—Ç –æ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–æ–º –ø–∏—Å—å–º–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø—Ä–æ—Å—Ç—ã–º (–∫–Ω–æ–ø–∫–∞ –≤ Outlook).",
        "–°–≤—è–∑—ã–≤–∞–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ñ–∏—à–∏–Ω–≥-—Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ —Å KPI —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª–µ–π –ø–æ–¥—Ä–∞–∑–¥–µ–ª–µ–Ω–∏–π.",
        "–û–±–Ω–æ–≤–ª—è–π—Ç–µ –ø—Ä–∞–≤–∏–ª–∞ WAF —Å–æ–≤–º–µ—Å—Ç–Ω–æ —Å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º–∏ –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —Ä–µ–ª–∏–∑–∞ API.",
        "–í–≤–æ–¥–∏—Ç–µ TTL –Ω–∞ emergency-–ø—Ä–∞–≤–∏–ª–∞ firewall –∏ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–π—Ç–µ –∏—Ö –∑–∞–∫—Ä—ã—Ç–∏–µ.",
        "–£—á–∞—Å—Ç–≤—É–π—Ç–µ –≤ –ø–æ—Å—Ç-–º–æ—Ä—Ç–µ–º–∞—Ö –ø–æ –∞—Ç–∞–∫–∞–º –ª–∏—á–Ω–æ, –ø–æ–∫–∞–∑—ã–≤–∞—è –≤–∞–∂–Ω–æ—Å—Ç—å —Ç–µ–º—ã."
    ])

    render_quiz("module4", [
        {
            "question": "–ü–æ—á–µ–º—É —Å–æ—Ü–∏–∞–ª—å–Ω–∞—è –∏–Ω–∂–µ–Ω–µ—Ä–∏—è —Ç–∞–∫ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞ –ø—Ä–æ—Ç–∏–≤ –≥–æ—Å—Å–µ–∫—Ç–æ—Ä–∞?",
            "options": ["–°–ª–∞–±—ã–µ —Å–µ—Ä–≤–µ—Ä–∞", "–ú–Ω–æ–≥–æ –±—É–º–∞–∂–Ω–æ–π —Ä–∞–±–æ—Ç—ã", "–í—ã—Å–æ–∫–∏–π —É—Ä–æ–≤–µ–Ω—å –¥–æ–≤–µ—Ä–∏—è –∫ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–º –ø–∏—Å—å–º–∞–º", "–ù–µ—Ç WAF"],
            "answer": "–í—ã—Å–æ–∫–∏–π —É—Ä–æ–≤–µ–Ω—å –¥–æ–≤–µ—Ä–∏—è –∫ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–º –ø–∏—Å—å–º–∞–º",
            "explanation": "–ê—Ç–∞–∫—É—é—â–∏–µ –∏–º–∏—Ç–∏—Ä—É—é—Ç –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è, –∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ —Ä–µ–∂–µ —Å–æ–º–Ω–µ–≤–∞—é—Ç—Å—è."
        },
        {
            "question": "–ö–∞–∫—É—é —Ä–æ–ª—å –≤—ã–ø–æ–ª–Ω—è–µ—Ç WAF?",
            "options": ["–ó–∞—â–∏—Ç–∞ Wi-Fi", "–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ SQLi/XSS –Ω–∞ —É—Ä–æ–≤–Ω–µ HTTP", "–®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤", "–£—Å–∫–æ—Ä–µ–Ω–∏–µ —Å–∞–π—Ç–æ–≤"],
            "answer": "–ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ SQLi/XSS –Ω–∞ —É—Ä–æ–≤–Ω–µ HTTP",
            "explanation": "WAF –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç HTTP-—Ç—Ä–∞—Ñ–∏–∫ –∏ —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç –∞—Ç–∞–∫–∏ –Ω–∞ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ."
        },
        {
            "question": "–ß—Ç–æ –Ω—É–∂–Ω–æ –¥–µ–ª–∞—Ç—å —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ firewall-–ø—Ä–∞–≤–∏–ª–∞–º–∏?",
            "options": ["–ù–∏—á–µ–≥–æ, –ø—É—Å—Ç—å —Ä–∞–±–æ—Ç–∞—é—Ç", "–ü—Ä–æ–≤–µ—Ä—è—Ç—å —Ä–∞–∑ –≤ –≥–æ–¥", "–ù–∞–∑–Ω–∞—á–∏—Ç—å TTL –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–∫—Ä—ã–≤–∞—Ç—å", "–ü–µ—Ä–µ–¥–∞–≤–∞—Ç—å –≤ –±—É—Ö–≥–∞–ª—Ç–µ—Ä–∏—é"],
            "answer": "–ù–∞–∑–Ω–∞—á–∏—Ç—å TTL –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–∫—Ä—ã–≤–∞—Ç—å",
            "explanation": "–¢–∞–∫ –º—ã –∏–∑–±–µ–≥–∞–µ–º ¬´–∑–∞–±—ã—Ç—ã—Ö¬ª –¥—ã—Ä –≤ –ø–µ—Ä–∏–º–µ—Ç—Ä–µ."
        },
        {
            "question": "–ó–∞—á–µ–º –ø—Ä–æ–≤–æ–¥–∏—Ç—å –∏–º–∏—Ç–∞—Ü–∏—é —Ñ–∏—à–∏–Ω–≥–∞?",
            "options": ["–ß—Ç–æ–±—ã –Ω–∞–∫–∞–∑–∞—Ç—å —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤", "–î–ª—è –æ—Ç—á—ë—Ç–∞ –ú–∏–Ω—Ü–∏—Ñ—Ä—ã", "–ß—Ç–æ–±—ã —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –∫—É–ª—å—Ç—É—Ä—É –∏ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∞–∫—Ü–∏–∏", "–ü–æ—Ç–æ–º—É —á—Ç–æ —ç—Ç–æ –º–æ–¥–Ω–æ"],
            "answer": "–ß—Ç–æ–±—ã —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –∫—É–ª—å—Ç—É—Ä—É –∏ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∞–∫—Ü–∏–∏",
            "explanation": "–¢–æ–ª—å–∫–æ –ø—Ä–∞–∫—Ç–∏–∫–æ–π –º–æ–∂–Ω–æ –æ—Ç—Ä–∞–±–æ—Ç–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º –¥–µ–π—Å—Ç–≤–∏–π —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞."
        },
        {
            "question": "–ö—Ç–æ –¥–æ–ª–∂–µ–Ω —É—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å –≤ –ø–æ—Å—Ç-–º–æ—Ä—Ç–µ–º–∞—Ö –ø–æ –∞—Ç–∞–∫–∞–º?",
            "options": ["–¢–æ–ª—å–∫–æ –∏–Ω–∂–µ–Ω–µ—Ä—ã SOC", "–ü–æ–¥—Ä—è–¥—á–∏–∫ –ø–æ —É–±–æ—Ä–∫–µ", "–†—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏ –≤–ª–∞–¥–µ–ª—å—Ü—ã –ø—Ä–æ—Ü–µ—Å—Å–æ–≤", "–¢–æ–ª—å–∫–æ –ò–ë"],
            "answer": "–†—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—å –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏ –≤–ª–∞–¥–µ–ª—å—Ü—ã –ø—Ä–æ—Ü–µ—Å—Å–æ–≤",
            "explanation": "–ë–µ–∑ —É—á–∞—Å—Ç–∏—è —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞ —Ä–µ—à–µ–Ω–∏—è –æ—Å—Ç–∞–Ω—É—Ç—Å—è –Ω–∞ –±—É–º–∞–≥–µ –∏ –Ω–µ –ø–æ–ø–∞–¥—É—Ç –≤ —Ä–µ–≥–ª–∞–º–µ–Ω—Ç—ã."
        }
    ])
    st.markdown('</div>', unsafe_allow_html=True)


# --- UI LAYOUT ---
col_content, col_ai = st.columns([1.5, 1])

with col_content:
    if chapter == "1. OSI –∏ –§–∏–∑–∏–∫–∞ —Å–µ—Ç–∏":
        module_one()
    elif chapter == "2. IP, DNS –∏ –ú–∞—Ä—à—Ä—É—Ç—ã":
        module_two()
    elif chapter == "3. –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –∏ Web (HTTPS)":
        module_three()
    elif chapter == "4. –í–∑–ª–æ–º—ã –∏ –ó–∞—â–∏—Ç–∞ –ø–µ—Ä–∏–º–µ—Ç—Ä–∞":
        module_four()

with col_ai:
    st.subheader("ü§ñ –¢–≤–æ–π –¢—å—é—Ç–æ—Ä")
    st.write(f"–ó–∞–¥–∞–≤–∞–π –ª—é–±—ã–µ –≤–æ–ø—Ä–æ—Å—ã –ø–æ –≥–ª–∞–≤–µ: *{chapter}*")

    if "messages" not in st.session_state:
        st.session_state.messages = []

    user_input = st.chat_input("–ù–∞–ø–∏—à–∏ –º–Ω–µ...")
    if user_input:
        st.session_state.messages.append({"role": "user", "content": user_input})
        with st.chat_message("user"):
            st.write(user_input)

        with st.chat_message("assistant"):
            response = ask_tutor(user_input, chapter)
            st.write(response)
            st.session_state.messages.append({"role": "assistant", "content": response})
